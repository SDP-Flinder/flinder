(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{287:function(e,t,n){},655:function(e,t,n){},658:function(e,t,n){},661:function(e,t,n){},665:function(e,t,n){},668:function(e,t,n){},669:function(e,t,n){},670:function(e,t,n){},671:function(e,t,n){},676:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(36),i=n.n(c),s=n(38),o=n(6),l=n.n(o),u=n(11),j=n(7),d=n(377),b="Flinder",h="https://flinder.herokuapp.com",p="/api",m=!0,x=n(43),O=n.n(x),f="/api",g=O.a.create({baseURL:f,timeout:1e4,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Credentials":"true"}}),v=function(e){return O.a.create({baseURL:f,timeout:1e4,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Credentials":"true"}})},y=function(e,t){return O.a.create({baseURL:f,timeout:1e4,params:t,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Credentials":"true"}})},w=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/users/authenticate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/users/register");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).post("logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/users/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/users/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/users/current");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).put("/users/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).delete("/users/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/flats/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/flats/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/flats/all");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).put("/flats/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).delete("/flats/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).post("/locations/",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/locations/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/locations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).put("/locations/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).delete("/locations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W={authenticate:w,register:k,logout:N,getUserById:S,getAllUsers:C,getJWTUser:I,updateUserById:E,deleteUserById:M,getAllMatches:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/matches/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMatchById:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/matches/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),findFlatee:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/match/findFlatee/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getFlateeMatches:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/matches/successMatchesForFlatee/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getListingMatches:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/matches/successMatchesForListing/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPotFlateeMatches:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,n).get("/matches/potentialMatchesForFlatee/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPotListingMatches:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,n).get("/matches/potentialMatchesForListing/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addListingToMatch:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).post("/matches/addListing/",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addFlateeToMatch:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).post("/matches/addFlatee/",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),unmatch:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).put("/matches/unmatch/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),deleteMatchById:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).delete("/matches/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getOwnedFlats:A,getFlatById:D,getAllFlats:F,updateFlatById:U,deleteFlatById:P,addLocation:T,getAllLocations:L,getLocationById:R,updateLocationById:B,deleteLocationById:z,addListing:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).post("/listings/",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getListingByFlatId:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/listings/flat/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getListingById:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/listings/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAllListings:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/listings/all");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFlatAccount:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/flatAccount/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateListingById:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).put("/listings/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),deleteListingById:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).delete("/listings/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addChat:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).post("/chat/",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addMessageToChat:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).post("/chat/message/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getChatById:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/chat/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getChatByMatchId:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).get("/chat/match/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAllChats:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/chat/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateChatById:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).put("/chat/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),deleteChatById:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).delete("/chat/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUsersNotifications:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/notifications/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),readNotfication:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).put("/notifications/read/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addNotification:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).get("/notifications/",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteNotificationById:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n).delete("/notification/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Y=n(0),_=Object(a.createContext)(null),H=function(){return Object(a.useContext)(_)},V=function(e){var t=e.children,n=q();return Object(Y.jsx)(_.Provider,{value:n,children:t})},q=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(j.a)(c,2),s=i[0],o=i[1],b=!!(s&&n&&1e3*Object(d.a)(n).exp>Date.now());Object(a.useEffect)((function(){return sessionStorage.getItem("jwt")?r(sessionStorage.getItem("jwt")):localStorage.getItem("jwt")&&r(localStorage.getItem("jwt")),n&&null!==n&&W.getJWTUser(n).then((function(e){o(e.data)})).catch((function(e){console.log(e),o(null)})),function(){o(null)}}),[n]);var h=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W.authenticate({username:t,password:n}).then((function(e){var t,n;(m&&console.log("Sign in Response: ".concat(e)),a)?(localStorage.setItem("jwt",null===(t=e.data)||void 0===t?void 0:t.token),o(e.data)):(sessionStorage.setItem("jwt",null===(n=e.data)||void 0===n?void 0:n.token),o(e.data));return e})).catch((function(e){return console.log("Sign in Error: ".concat(e)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"flatee"===t.accountType?(n={username:t.username,password:t.password,firstName:t.firstName,lastName:t.lastName,email:t.email,dob:t.dob,role:t.accountType.toLowerCase(),preferredArea:t.preferredArea,checklist:t.checklist,rentUnits:"Per Week"},W.register({userParam:n}).then((function(e){return console.log(e),e})).catch((function(e){return console.log(e),e}))):"flat"===t.accountType&&(a={username:t.username,password:t.password,firstName:t.firstName,lastName:t.lastName,email:t.email,dob:t.dob,role:t.accountType.toLowerCase(),address:t.address,description:t.description,existingFlatmates:t.existingFlatmates,leaseDate:t.leaseDate,flatRules:t.flatRules},W.register({userParam:a}).then((function(e){return console.log(e),e})).catch((function(e){return m&&console.log(e),e}))),e.abrupt("return",h(t.username,t.password,!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{user:s,setUser:o,jwt:n,isAuthed:b,signin:h,signout:function(){return console.log("Sign Out Called:"),console.log(s),console.log(n),W.logout(n).then((function(){localStorage.removeItem("jwt"),sessionStorage.removeItem("jwt"),o(null)})).catch((function(e){console.log(e),localStorage.removeItem("jwt"),sessionStorage.removeItem("jwt"),o(null)}))},signup:p}},G="admin",$="flat",Z="flatee",J=n(33),K=n(152),X=n(762),Q=n(764),ee=n(765),te=n(833),ne=n(773),ae=n(825),re=n(682),ce=n(774),ie=n(816),se=n(763),oe=n(820);function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var je=a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M34.71,48.72h-6.13v13.92h6.13v32.52h17.51V62.64h9.73V48.72h-9.73c0-3.76,1.75-6.6,6.81-6.6c1.17,0,2.24,0.09,2.92,0.18 V28.84c-1.85-0.28-4.38-0.73-7.69-0.73C37.33,28.11,34.71,40.11,34.71,48.72z"}),a.createElement("rect",{x:71.2,y:31.04,width:17.51,height:64.12}),a.createElement("path",{d:"M161.49,47.62c-6.71,0-10.9,2.75-13.43,6.05v-4.95h-17.51v46.44h17.51V70.16c0-3.66,2.72-6.32,7.01-6.32 c4.28,0,7.01,2.66,7.01,6.32v25.01h17.51V66.13C179.59,59.35,176.97,47.62,161.49,47.62z"}),a.createElement("path",{d:"M224.65,52.48c-2.82-2.93-6.91-4.86-12.84-4.86c-15.37,0-22.96,12.18-22.96,24.37c0,12.18,7.59,24.37,22.96,24.37 c5.94,0,10.02-1.92,12.84-4.95v3.76h17.51V31.04h-17.51V52.48z M215.3,80.23c-5.45,0-8.85-3.48-8.85-8.24 c0-4.86,3.41-8.34,8.85-8.34c5.16,0,8.85,3.39,8.85,8.34C224.16,76.93,220.46,80.23,215.3,80.23z"}),a.createElement("path",{d:"M277.48,47.62c-15.08,0-26.08,10.81-26.08,24.46c0,14.47,11.29,24.28,27.93,24.28c9.63,0,17.42-4.31,20.92-10.08 l-11.77-6.6c-1.56,1.74-4.77,3.85-9.15,3.85c-5.74,0-9.44-2.56-10.8-6.96l34.15-0.09C304.92,57.7,292.08,47.62,277.48,47.62z  M268.53,67.59c1.27-4.31,4.48-7.15,8.95-7.15c5.16,0,8.17,2.75,9.15,7.05L268.53,67.59z"}),a.createElement("path",{d:"M329.74,56.05v-7.33h-17.51v46.44h17.51v-17.5c0-7.42,1.46-13.65,14.69-12.18V47.62 C338.79,47.62,333.05,50.74,329.74,56.05z"}),a.createElement("polygon",{points:"101.6,41.77 117.58,41.77 109.59,34.01  "}),a.createElement("polygon",{points:"100.87,48.72 100.87,48.89 100.87,52.36 100.87,58.7 100.87,95.16 118.39,95.16 118.39,58.56 118.4,58.55  118.4,45.24 100.87,45.24  "}),a.createElement("path",{d:"M109.47,28.11L109.47,28.11c-8.83,0-16,6.96-16,15.54v2.01c0,3.43,1.14,6.6,3.08,9.17v-9.59v-3.36v-0.11h0l0,0l13-12.63 l0.04,0.04l0.04-0.04l13,12.63l-0.01,0.01v0.1h0.01v12.62c1.79-2.51,2.84-5.55,2.84-8.84v-2.01 C125.47,35.07,118.3,28.11,109.47,28.11z"})),a.createElement("g",null,a.createElement("path",{d:"M37.07,111.48v5.39h5.8v1.07h-5.8v6.62h-1.02v-14.17h7.56v1.09H37.07z"}),a.createElement("path",{d:"M63.11,123.48v1.07h-7.33v-14.17h1.04v13.1H63.11z"}),a.createElement("path",{d:"M83,120.59h-6.17l-1.41,3.97h-1.1l5.05-14.17h1.1l5.05,14.17h-1.1L83,120.59z M82.61,119.5l-2.69-7.55l-2.71,7.55H82.61z"}),a.createElement("path",{d:"M103.8,111.48h-3.71v13.08h-1.02v-13.08h-3.69v-1.09h8.43V111.48z"}),a.createElement("path",{d:"M129.49,110.38v14.17h-1.02v-12.15l-5.49,8.54h-0.48l-5.49-8.54v12.15h-1.02v-14.17H117l5.74,8.87l5.72-8.87H129.49z"}),a.createElement("path",{d:"M149.96,120.59h-6.17l-1.41,3.97h-1.1l5.05-14.17h1.1l5.05,14.17h-1.1L149.96,120.59z M149.57,119.5l-2.69-7.55 l-2.71,7.55H149.57z"}),a.createElement("path",{d:"M170.76,111.48h-3.71v13.08h-1.02v-13.08h-3.69v-1.09h8.43V111.48z"}),a.createElement("path",{d:"M190.4,123.48v1.07h-7.46v-14.17h7.29v1.09h-6.26v5.2h5.82v1.07h-5.82v5.73H190.4z"}),a.createElement("path",{d:"M218.67,111.48v5.39h5.8v1.07h-5.8v6.62h-1.02v-14.17h7.56v1.09H218.67z"}),a.createElement("path",{d:"M238.43,110.38v14.17h-1.04v-14.17H238.43z"}),a.createElement("path",{d:"M261.47,110.38v14.17h-1.02l-8.24-12.33v12.33h-1.02v-14.17h1.02l8.24,12.33v-12.33H261.47z"}),a.createElement("path",{d:"M284.94,117.47c0,4.05-2.8,7.09-6.67,7.09h-4.04v-14.17h4.04C282.14,110.38,284.94,113.42,284.94,117.47z M283.92,117.47 c0-3.44-2.34-5.99-5.65-5.99h-3.02v12.01h3.02C281.58,123.48,283.92,120.93,283.92,117.47z"}),a.createElement("path",{d:"M304.58,123.48v1.07h-7.46v-14.17h7.29v1.09h-6.26v5.2h5.82v1.07h-5.82v5.73H304.58z"}),a.createElement("path",{d:"M324.86,124.56l-3.54-5.97c-0.25,0.02-0.52,0.04-0.79,0.04h-2.75v5.93h-1.03v-14.17h3.77c2.96,0,4.74,1.52,4.74,4.13 c0,1.98-1.04,3.34-2.86,3.87l3.65,6.18H324.86z M320.53,117.55c2.38,0,3.71-1.03,3.71-3.04c0-2.03-1.33-3.04-3.71-3.04h-2.75v6.07 H320.53z"}))),de=a.createElement("g",null),be=a.createElement("g",null),he=a.createElement("g",null),pe=a.createElement("g",null),me=a.createElement("g",null);function xe(e,t){var n=e.title,r=e.titleId,c=ue(e,["title","titleId"]);return a.createElement("svg",le({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 368.25 157.14",style:{enableBackground:"new 0 0 368.25 157.14"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,je,de,be,he,pe,me)}var Oe=a.forwardRef(xe);n.p;function fe(){return Object(Y.jsxs)(K.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Y.jsx)(X.a,{color:"inherit",href:"".concat(h),children:"".concat(b)})," ",(new Date).getFullYear(),"."]})}var ge=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},button:{margin:e.spacing(3,0,2)}}})),ve=function(e){var t=e.location,n=ge(),r=H(),c=r.signin,i=r.isAuthed,s=Object(a.useState)(""),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),h=b[0],p=b[1],m=Object(a.useState)(!1),x=Object(j.a)(m,2),O=x[0],f=x[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),y=v[0],w=v[1],k=(t.state||{from:{pathname:"/"}}).from;return Object(Y.jsxs)(Y.Fragment,{children:[i&&Object(Y.jsx)(J.b,{to:k}),Object(Y.jsxs)(Q.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsxs)("div",{className:n.paper,children:[Object(Y.jsx)(Oe,{className:"logo-display"}),Object(Y.jsx)(K.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(Y.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(Y.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"username",name:"username",value:l,autoComplete:"username",autoFocus:!0,onChange:function(e){return u(e.target.value)}}),Object(Y.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:h,autoComplete:"current-password",onChange:function(e){return p(e.target.value)}}),y&&Object(Y.jsx)(oe.a,{severity:"error",children:y}),Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{name:"rememberme",value:"remember",color:"primary",checked:O,onChange:function(e){f(e.target.checked)}}),label:"Remember me"}),Object(Y.jsx)(re.a,{id:"sign-in",type:"button",fullWidth:!0,variant:"contained",color:"primary",className:n.button,onClick:function(e){return function(e){e.preventDefault(),c(l,h,O).then((function(e){console.log(null===e||void 0===e?void 0:e.message),((null===e||void 0===e?void 0:e.error)||(null===e||void 0===e?void 0:e.message))&&w((null===e||void 0===e?void 0:e.error)||(null===e||void 0===e?void 0:e.message))})).catch((function(e){console.log(e)}))}(e)},children:"Sign In"}),Object(Y.jsx)(ce.a,{container:!0,children:Object(Y.jsxs)(J.a,{children:[Object(Y.jsx)(ce.a,{item:!0,xs:!0,children:Object(Y.jsx)(X.a,{href:"/forgot",variant:"body2",children:"Forgot password?"})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(X.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})})]})]}),Object(Y.jsx)(ie.a,{mt:8,children:Object(Y.jsx)(fe,{})})]})]})},ye=function(){var e=H(),t=e.signout,n=e.isAuthed,a={pathname:"/login"};return t(),Object(Y.jsxs)(Y.Fragment,{children:[n&&Object(Y.jsx)(J.b,{to:a}),Object(Y.jsx)("section",{className:"section",children:Object(Y.jsxs)("div",{className:"container",children:[Object(Y.jsx)("h2",{className:"title",children:"Logging out"}),Object(Y.jsx)("p",{className:"subtitle",children:"Please wait while we log you out."})]})})]})},we=n(13),ke=n(383),Ne=n(10),Ce=n(384),Se=n(768),Ie=n(680),Ee=n(775),Me=n(823),Ae=n(681),De=n(91),Fe=n.n(De),Ue=function(e){var t=e.navigation,n=Object(a.useState)([]),r=Object(j.a)(n,2),c=r[0],i=r[1],s=e.user,o=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.next=5,Pe(t,i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return o()}),[]);var d=Object(Ce.a)({}).handleSubmit,b=function(t,n){e.updateUser(Object(Ne.a)({},t,n))},h=Object(a.useState)({}),p=Object(j.a)(h,2),m=p[0],x=p[1],O=function(e,t){for(var n={},a=0;a<c.length;a++)c[a].username==e&&(n.username="username"),c[a].email==t&&(n.email="email");return n};return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("br",{}),Object(Y.jsxs)("form",{onSubmit:d((function(){var e=function(){var e=s.username,t=s.password,n=s.email,a=s.accountType,r={},c=O(e,n);return function(e,t,n){e&&""!==e?e.match(/^[a-zA-Z0-9]+$/)?e.length<6&&(t.username="Username should have at least 6 characters."):t.username="Username should not contain special characters.":t.username="Username cannot be blank","username"==n.username&&(t.username="Username already exists")}(e,r,c),function(e,t,n){e&&""!==e?e.match(/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/)||(t.email="Please enter a valid email address"):t.email="Email cannot be empty","email"==n.email&&(t.email="Email already exists")}(n,r,c),function(e,t){e&&""!==e?e.length<6?t.password="Password must be more than 6 characters":e.includes(" ")&&(t.password="Password must not contain a whitespace"):t.password="Password cannot be empty"}(t,r),a&&""!=a||(r.accountType="Choose one"),r}();Object.keys(e).length>0?x(e):"flat"==s.accountType||"flatee"==s.accountType?t.go("flat-information"):""==s.accountType&&alert("Choose one bitch!")})),children:[Object(Y.jsxs)(ce.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"left",spacing:2,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{component:"h3",children:"Sign Up to find your new home"})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(Se.a,{children:[Object(Y.jsx)(te.a,{style:{width:330},label:"Username",variant:"outlined",name:"user.username",value:s.username,autoFocus:!0,required:!0,onChange:function(e){return b("username",e.target.value)},placeholder:"Enter your username",error:!!m.username}),m.username&&Object(Y.jsx)(oe.a,{severity:"error",children:m.username})]})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(Se.a,{children:[Object(Y.jsx)(te.a,{style:{width:330},label:"Password",variant:"outlined",type:"password",required:!0,name:"user.password",value:s.password,onChange:function(e){return b("password",e.target.value)},placeholder:"Enter your password",error:!!m.password}),m.password&&Object(Y.jsx)(oe.a,{severity:"error",children:m.password})]})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(Se.a,{children:[Object(Y.jsx)(te.a,{style:{width:330},label:"Email",variant:"outlined",type:"email",required:!0,name:"user.email",value:s.email,onChange:function(e){return b("email",e.target.value)},placeholder:"Enter your email",error:!!m.email}),m.email&&Object(Y.jsx)(oe.a,{severity:"error",children:m.email})]})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(Se.a,{error:!!m.accountType,component:"fieldset",children:[Object(Y.jsx)(Ie.a,{component:"legend",children:"I am looking for..."}),Object(Y.jsxs)(Ee.a,{"aria-label":"accountType",name:"user.accountType",value:s.accountType,onChange:function(e){return b("accountType",e.target.value)},children:[Object(Y.jsx)(ne.a,{value:"flat",control:Object(Y.jsx)(Me.a,{}),label:"A Flatmate"}),Object(Y.jsx)(ne.a,{value:"flatee",control:Object(Y.jsx)(Me.a,{}),label:"A Flat"})]}),m.accountType&&Object(Y.jsxs)("div",{className:"error-message",children:[m.accountType," ",Object(Y.jsx)("br",{})," "]})]})})]}),Object(Y.jsx)(ce.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:Object(Y.jsx)(Ae.a,{variant:"contained",color:"primary",type:"submit",disabled:!(s.username&&s.password&&s.email&&s.accountType),children:Object(Y.jsx)(Fe.a,{})})})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(ce.a,{container:!0,justifyContent:"flex-end",children:Object(Y.jsxs)(ce.a,{item:!0,children:["Already have an account?",Object(Y.jsx)(X.a,{href:"login/",variant:"body1",children:" Sign in"})]})})]})};function Pe(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(p,"/users/"),r="Bearer ".concat(t),e.next=5,O.a.get(a,{headers:{Authorization:r}}).then((function(e){var t=e.data;n(t)})).catch((function(e){console.log("error "+e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return Re.apply(this,arguments)}function Re(){return(Re=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n={username:"admin",password:"admin"},e.next=4,O.a.post("".concat(p,"/users/authenticate"),n).then((function(e){t=e.data.token}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be,ze=n(127),We=n(247),Ye=n.n(We),_e=n(769),He=n(107),Ve=n.n(He),qe=(n(195),n(196),n(266));Object(qe.a)(Be||(Be=Object(ze.a)(["\n  .react-calendar {\n    height: auto;\n  },\n  .react-calendar__navigation{\n    height: 30px;\n    margin-bottom: 0;\n  }\n  .react-calendar__year-view .react-calendar__tile, \n  .react-calendar__decade-view .react-calendar__tile, .react-calendar__century-view .react-calendar__tile{\n    padding: 1em 0.5em;\n  }\n  .react-date-picker__calendar{\n    position: absolute;\n    height: 143px\n  }\n"])));var Ge=Object(J.i)((function(e){var t=e.navigation,n=function(t,n){e.updateUser(Object(Ne.a)({},t,n))},r=Object(a.useState)(e.user.dob?e.user.dob:new Date),c=Object(j.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)({}),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)({}),h=Object(j.a)(b,2),p=h[0],m=h[1],x=function(e,t,n){return function(){var a={},r={};return e.match(/^[a-zA-Z]+$/)||(a.firstName="First name should contain letters only.",r.firstName=!0),t.match(/^[a-zA-Z]+$/)||(a.lastName="Last name should contain letters only.",r.lastName=!0),n.getFullYear()<1921?(a.dob="Too old",r.dob=!0):n.getFullYear()>2007&&(a.dob="This app is for 15+",r.dob=!0),{errorFound:a,invalid:r}}}(e.user.firstName,e.user.lastName,i);return Object(Y.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=x();Object.keys(a.errorFound).length>0?(d(a.errorFound),m(a.invalid)):("flat"==e.user.accountType?t.go("flat-address"):t.go("flatee-area"),e.updateUser(Object(Ne.a)({},"dob",i)))},children:[Object(Y.jsx)(K.a,{component:"h3",children:"First, tell us a little bit about you..."}),Object(Y.jsx)("br",{}),Object(Y.jsx)(te.a,{className:"input",id:"outlined-basic",variant:"outlined",label:"First Name",name:"props.user.firstName",value:e.user.firstName,onChange:function(e){return n("firstName",e.target.value)},placeholder:"Enter your first name....",autoComplete:"off",error:p.firstName}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),u.firstName&&Object(Y.jsx)(oe.a,{severity:"error",children:u.firstName}),Object(Y.jsx)("br",{}),Object(Y.jsx)(te.a,{className:"input",id:"outlined-basic",variant:"outlined",label:"Last Name",name:"props.user.lastName",value:e.user.lastName,onChange:function(e){return n("lastName",e.target.value)},placeholder:"Enter your last name....",autoComplete:"off",error:p.lastName}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),u.lastName&&Object(Y.jsx)(oe.a,{severity:"error",children:u.lastName}),Object(Y.jsx)("br",{}),Object(Y.jsx)(_e.a,{error:p.dob,children:" D.O.B "}),Object(Y.jsx)(Ye.a,{id:"datePicker",className:"calendar-display",label:"D.O.B",placeholder:"dob",onChange:s,value:i,format:"dd/MM/yyyy"}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),u.dob&&Object(Y.jsx)(oe.a,{severity:"error",children:u.dob}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)(Ae.a,{variant:"contained",onClick:function(){return e.navigation.go("username")},children:Object(Y.jsx)(Ve.a,{})}),Object(Y.jsx)(Ae.a,{variant:"contained",color:"primary",disabled:!e.user.firstName||!e.user.lastName,type:"submit",children:Object(Y.jsx)(Fe.a,{})})]})]})}));var $e=n(386),Ze=n.n($e),Je=function(e){var t=e.navigation,n=r.a.useState(""),c=Object(j.a)(n,2),i=c[0],s=c[1],o=r.a.useState({street:"",suburb:"",city:"",country:""}),d=Object(j.a)(o,2),b=d[0],h=d[1],m=r.a.useState(!1),x=Object(j.a)(m,2),f=x[0],g=x[1],v=Object(a.useState)({}),y=Object(j.a)(v,2),w=y[0],k=y[1],N=function(){var e={};if("New Zealand"!=b.country&&(e.country="This app is only currently available for New Zealand adresses."),"New Zealand"==b.country)switch(b.city.toLowerCase()){case"auckland":case"wellington":break;default:e.city="This app is only currently available for Auckland and Wellington addresses."}b.street||(e.street="Please enter a specific street address.");for(var t=0;t<E.length;t++)"flat"==E[t].role&&E[t].address.street==b.street&&E[t].address.suburb==b.suburb&&E[t].address.city==b.city&&(e.street="This address has already been used.");return e},C=function(){s(""),h({}),k({})},S=Object(a.useState)([]),I=Object(j.a)(S,2),E=I[0],M=function(e){return Object(u.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ke();case 2:return n=t.sent,a="".concat(p,"/users/"),r="Bearer ".concat(n),t.next=8,O.a.get(a,{headers:{Authorization:r}}).then((function(t){var n=t.data;e(n)})).catch((function(e){console.log("error "+e)}));case 8:case"end":return t.stop()}}),t)})))}(I[1]);return Object(a.useEffect)((function(){return M()}),[]),Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=N();Object.keys(a).length>0?k(a):(e.user.address.street=b.street,e.user.address.suburb=b.suburb,e.user.address.city=b.city,e.user.address.country=b.country,t.go("flat-description"))},children:[Object(Y.jsx)(K.a,{component:"h3",children:"What's your address?"}),!f&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"display-address-search",children:i&&Object(Y.jsx)(Ae.a,{onClick:C,children:Object(Y.jsx)(Ze.a,{})})}),i?Object(Y.jsxs)("div",{className:"address-information",children:[Object(Y.jsxs)(K.a,{component:"h5",children:[" Street number: ",b.street," "]}),Object(Y.jsxs)(K.a,{component:"h5",children:[" Suburb: ",b.suburb," "]}),Object(Y.jsxs)(K.a,{component:"h5",children:[" City: ",b.city," "]}),Object(Y.jsxs)(K.a,{component:"h5",children:[" Country: ",b.country," "]})]}):Object(Y.jsx)("div",{children:"  "}),w.street&&Object(Y.jsx)(oe.a,{severity:"error",children:w.street}),w.country&&Object(Y.jsx)(oe.a,{severity:"error",children:w.country}),w.city&&Object(Y.jsx)(oe.a,{severity:"error",children:w.city}),Object(Y.jsxs)(ce.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(K.a,{children:" Can't find your address? "}),Object(Y.jsx)(re.a,{variant:"contained",color:"primary",onClick:function(){g(!0),C()},children:"Enter manually"})]})]}),f&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)(oe.a,{severity:"warning",children:"We highly reccommend using address finder to increase the accuracy of the address"}),Object(Y.jsx)(ce.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"center",children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",onClick:function(){return g(!1)},children:"Use address finder"})}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(ce.a,{container:!0,spacing:2,children:[Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(te.a,{id:"outlined-basic",variant:"outlined",label:"Street",name:"componentAddress.street",value:b.street,onChange:function(e){return h((function(t){return Object(we.a)(Object(we.a)({},t),{street:e.target.value})}))},placeholder:"Street no.",autoComplete:"off",required:!0})}),Object(Y.jsx)(ce.a,{item:!0,xs:5,md:6,children:Object(Y.jsx)(te.a,{id:"outlined-basic",variant:"outlined",name:"componentAddress.suburb",value:b.suburb,onChange:function(e){return h((function(t){return Object(we.a)(Object(we.a)({},t),{suburb:e.target.value})}))},disabled:!b.street,label:"Suburb",placeholder:"Suburb",autoComplete:"off"})}),Object(Y.jsx)(ce.a,{item:!0,xs:5,md:6,children:Object(Y.jsx)(te.a,{id:"outlined-basic",variant:"outlined",name:"componentAddress.city",value:b.city,onChange:function(e){h((function(t){return Object(we.a)(Object(we.a)({},t),{city:e.target.value})})),h((function(e){return Object(we.a)(Object(we.a)({},e),{country:"New Zealand"})})),s("".concat(b.street,", ").concat(b.suburb,", ").concat(b.city,", New Zealand"))},label:"City",placeholder:"City",autoComplete:"off",required:!0})}),Object(Y.jsx)(ce.a,{children:Object(Y.jsx)(K.a,{variant:"body1",children:" \xa0\xa0 Country: New Zealand"})}),w.street&&Object(Y.jsx)(oe.a,{severity:"error",children:w.street}),w.city&&Object(Y.jsx)(oe.a,{severity:"error",children:w.city})]})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)(Ae.a,{variant:"contained",onClick:function(){return t.go("flat-information")},children:Object(Y.jsx)(Ve.a,{})}),Object(Y.jsx)(Ae.a,{variant:"contained",disabled:!i,color:"primary",type:"submit",children:Object(Y.jsx)(Fe.a,{})})]})]})})};function Ke(){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n={username:"admin",password:"admin"},e.next=4,O.a.post("".concat(p,"/users/authenticate"),n).then((function(e){t=e.data.token}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe=n(683),et=function(e){var t=e.navigation,n=Object(a.useState)(e.user.flatRules.smoking||!1),r=Object(j.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(e.user.flatRules.pets||!1),o=Object(j.a)(s,2),l=o[0],u=o[1],d=function(t,n){e.updateUser(Object(Ne.a)({},t,n))},b=Object(a.useState)({}),h=Object(j.a)(b,2),p=h[0],m=h[1],x=function(){var t={};return e.user.existingFlatmates<0&&(t.existingFlatmates="Please enter a number larger than 0"),t};return Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=x();Object.keys(n).length>0?m(n):t.go("flat-checklist"),e.preventDefault(),d("flatRules",{smoking:c,pets:l}),t.go("flat-checklist")},children:[Object(Y.jsx)(K.a,{component:"h3",children:"Next, please provide you flat's details..."}),Object(Y.jsx)("br",{}),Object(Y.jsx)(te.a,{id:"outlined-basic",variant:"outlined",type:"number",label:"Existing flatmate(s): ",placeholder:"Number of flatmates",name:"props.user.existingFlatmates",value:e.user.existingFlatmates,onChange:function(e){return d("existingFlatmates",e.target.value)},autoComplete:"off"}),Object(Y.jsx)("br",{}),p.existingFlatmates&&Object(Y.jsx)(oe.a,{severity:"error",children:p.existingFlatmates}),Object(Y.jsx)("br",{}),Object(Y.jsx)(te.a,{className:"input",id:"outlined-basic",variant:"outlined",label:"Description",name:"props.user.description",placeholder:"Brief description",value:e.user.description,onChange:function(e){return d("description",e.target.value)},autoComplete:"off",multiline:!0,rows:4}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(_e.a,{children:" Lease Expiration Date "}),Object(Y.jsx)(Ye.a,{id:"datePicker",className:"calendar-display",label:"Lease Date",placeholder:"leaseDate",minDate:new Date,onChange:function(e){return d("leaseDate",e)},value:e.user.leaseDate,format:"dd/MM/yyyy"}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(K.a,{component:"h4",children:"Flat Rules"}),Object(Y.jsx)(K.a,{component:"h4",children:"Do you allow...."}),Object(Y.jsx)(Qe.a,{component:"fieldset",children:Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{name:"smoking",color:"primary",checked:c,onChange:function(){i(!c)}}),label:"Smokers",labelPlacement:"end"})}),Object(Y.jsx)(Qe.a,{component:"fieldset",children:Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{name:"pets",color:"primary",checked:l,onChange:function(){u(!l)}}),label:"Pets",labelPlacement:"end"})}),Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)(Ae.a,{variant:"contained",onClick:function(){return t.go("flat-address")},children:Object(Y.jsx)(Ve.a,{})}),Object(Y.jsx)(Ae.a,{variant:"contained",name:"next",color:"primary",disabled:!(e.user.description&&e.user.existingFlatmates&&e.user.leaseDate),type:"submit",children:Object(Y.jsx)(Fe.a,{})})]})]})},tt=n(55),nt=n.n(tt),at=n(149),rt=n.n(at),ct=Object(J.i)((function(e){var t=e.navigation;return console.log(e.user.address),console.log(e.user),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(K.a,{component:"h3",children:"Finally, check your information..."}),Object(Y.jsxs)("section",{children:[Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)("h4",{children:"Account information"}),Object(Y.jsx)(Ae.a,{variant:"outlined",size:"medium",color:"primary",name:"account",placeholder:"edit username",onClick:function(){t.go("username")},children:Object(Y.jsx)(rt.a,{})})]}),Object(Y.jsxs)("p",{children:["Username: ",e.user.username," "]}),Object(Y.jsxs)("p",{children:["Email: ",e.user.email," "]})]}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("section",{children:[Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)("h4",{children:"Personal Information"}),Object(Y.jsx)(Ae.a,{variant:"outlined",size:"medium",color:"primary",name:"info",placeholder:"edit info",onClick:function(){t.go("flat-information")},children:Object(Y.jsx)(rt.a,{})})]}),Object(Y.jsxs)("p",{children:["Full name: ",e.user.firstName," ",e.user.lastName," "]}),Object(Y.jsxs)("p",{children:["D.O.B: ",nt()(e.user.dob).format("DD/MM/YYYY")]}),Object(Y.jsx)("br",{})]}),Object(Y.jsxs)("section",{children:[Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)("h4",{children:"Flat Information"}),Object(Y.jsx)(Ae.a,{variant:"outlined",size:"medium",color:"primary",name:"flatAddress",placeholder:"edit address",onClick:function(){t.go("flat-address")},children:Object(Y.jsx)(rt.a,{})})]}),Object(Y.jsxs)("p",{children:["Address: ",e.user.address.street,", ",e.user.address.suburb,", ",e.user.address.city,", ",e.user.address.country]}),Object(Y.jsxs)("p",{children:["Existing flatmate(s): ",e.user.existingFlatmates]}),Object(Y.jsxs)("p",{children:["Description: ",e.user.description]}),Object(Y.jsxs)("p",{children:["Lease expiration date: ",nt()(e.user.leaseDate).format("DD/MM/YYYY")]}),Object(Y.jsx)("p",{children:"Flat rules:"}),Object(Y.jsxs)("p",{children:["Smoking allowed: ",e.user.flatRules.smoking.toString()]}),Object(Y.jsxs)("p",{children:["Pets allowed: ",e.user.flatRules.pets.toString()]})]}),Object(Y.jsx)("br",{})]})})),it=n(23),st=n(822),ot=n(776),lt=n(766),ut=Object(se.a)((function(e){return{formControl:{margin:e.spacing(0),minWidth:150}}})),jt={PaperProps:{style:{maxHeight:224,width:250}}},dt=function(e){var t=ut(),n=e.navigation,r=Object(a.useState)(""),c=Object(j.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)([]),d=Object(j.a)(o,2),b=d[0],h=d[1],p=Object(a.useState)(""),m=Object(j.a)(p,2),x=m[0],O=m[1],f=Object(a.useState)([]),g=Object(j.a)(f,2),v=g[0],y=g[1],w=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt();case 2:return t=e.sent,e.next=5,pt(t,y);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return w()}),[]);var k=Object(a.useState)([]),N=Object(j.a)(k,2),C=N[0],S=N[1],I=Object(a.useState)([]),E=Object(j.a)(I,2),M=E[0],A=E[1];return Object(Y.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={city:i,suburb:b};if(0==b.length){if(0!=C.length)for(var r=0;r<v.length;r++){var c;if(v[r].region.name==x)(c=a.suburb).push.apply(c,Object(it.a)(v[r].region.suburb))}if(""==x)for(var s=0;s<v.length;s++){var o;if(v[s].city==i)(o=a.suburb).push.apply(o,Object(it.a)(v[s].region.suburb))}}e.updateUser(Object(Ne.a)({},"preferredArea",a)),n.go("flatee-checklist")},children:[Object(Y.jsx)(K.a,{component:"h3",children:"Next, please choose your preferred flatting areas."}),Object(Y.jsx)(K.a,{variant:"body2",children:"(You can change this later)"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(ce.a,{container:!0,spacing:2,children:[i&&Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(oe.a,{severity:"info",children:" Being more specific with your preferred areas can help you find your perfect flat faster"})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsxs)(Se.a,{variant:"standard",className:t.formControl,children:[Object(Y.jsx)(_e.a,{children:" City (Required) "}),Object(Y.jsxs)(st.a,{native:!0,name:"city",value:i,onChange:function(e){s(e.target.value),O(""),S(""),A([]);for(var t=[],n=0;n<v.length;n++)v[n].city==e.target.value&&t.push(v[n].region.name);S(t)},children:[Object(Y.jsx)("option",{value:""}),Object(Y.jsx)("option",{value:"Auckland",children:"Auckland"}),Object(Y.jsx)("option",{value:"Wellington",children:"Wellington"})]})]})}),i&&Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsxs)(Se.a,{variant:"standard",className:t.formControl,children:[Object(Y.jsx)(_e.a,{children:" District (Optional) "}),Object(Y.jsxs)(st.a,{native:!0,placeholder:"Optional",name:"region",value:x,onChange:function(e){O(e.target.value),h([]);for(var t=0;t<v.length;t++)v[t].region.name==e.target.value&&A(v[t].region.suburb)},children:[Object(Y.jsx)("option",{value:""}),C.map((function(e){return Object(Y.jsx)("option",{value:e,children:e},e)}))]})]})}),x&&Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsxs)(Se.a,{className:t.formControl,children:[Object(Y.jsx)(_e.a,{children:"Suburb (Optional)"}),Object(Y.jsx)(st.a,{className:"input",multiple:!0,name:"suburb",variant:"outlined",value:b,onChange:function(e){return h(e.target.value)},input:Object(Y.jsx)(lt.a,{}),MenuProps:jt,children:M.map((function(e){return Object(Y.jsx)(ot.a,{value:e,children:e},e)}))})]})})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)(Ae.a,{variant:"contained",onClick:function(){return n.go("flat-information")},children:Object(Y.jsx)(Ve.a,{})}),Object(Y.jsx)(Ae.a,{variant:"contained",disabled:!i,color:"primary",type:"submit",children:Object(Y.jsx)(Fe.a,{})})]})]})};function bt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n={username:"admin",password:"admin"},e.next=4,O.a.post("".concat(p,"/users/authenticate"),n).then((function(e){t=e.data.token}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(p,"/locations/"),r="Bearer ".concat(t),e.next=5,O.a.get(a,{headers:{Authorization:r}}).then((function(e){var t=e.data;console.log(t),n(t)})).catch((function(e){console.log("error "+e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt=[],Ot=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(j.a)(u,2),b=d[0],h=d[1],p=Object(a.useState)(0),m=Object(j.a)(p,2),x=m[0],O=m[1],f=Object(a.useState)(3e3),g=Object(j.a)(f,2),v=g[0],y=g[1],w=e.navigation;!function(){for(var e=0;e<50;e++)xt[e]=50*(e+1)}();var k=Object(a.useState)({}),N=Object(j.a)(k,2),C=N[0],S=N[1],I=Object(a.useState)({}),E=Object(j.a)(I,2),M=E[0],A=E[1];return Object(a.useEffect)((function(){return null}),[e.user]),Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=function(){var e={},t={};return v-x<=0&&(e.price="The maximum value must be larger than the minimum.",t.price=!0),{errorFound:e,invalid:t}}();if(Object.keys(n.errorFound).length>0)S(n.errorFound),A(n.invalid);else{var a={isCouple:o,isSmoker:r,hasPet:b,priceRange:{min:x,max:v}};e.updateUser(Object(Ne.a)({},"checklist",a)),w.go("flatee-review")}},children:[Object(Y.jsx)(K.a,{component:"h4",children:"Are you...."}),Object(Y.jsx)(Qe.a,{component:"fieldset",children:Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{name:"smoker",color:"primary",checked:r,onChange:function(){c(!r)}}),label:"A smoker",labelPlacement:"end"})}),Object(Y.jsx)(Qe.a,{component:"fieldset",children:Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{name:"pet",color:"primary",checked:b,onChange:function(){h(!b)}}),label:"Having pet(s)",labelPlacement:"end"})}),Object(Y.jsx)(Qe.a,{component:"fieldset",children:Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{name:"couple",color:"primary",checked:o,onChange:function(){l(!o)}}),label:"A couple",labelPlacement:"end"})}),Object(Y.jsx)("br",{}),Object(Y.jsx)(K.a,{component:"h4",children:"Your price range (per week):"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(Se.a,{variant:"outlined",children:[Object(Y.jsx)(_e.a,{htmlFor:"outlined-age-native-simple",children:"From"}),Object(Y.jsxs)(st.a,{native:!0,value:x,placeholder:"min",onChange:function(e){return O(e.target.value)},label:"From",inputProps:{name:"checklist.priceRange.min",id:"outlined-age-native-simple"},children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),xt.map((function(e){return Object(Y.jsxs)("option",{value:e,children:[" ",e," "]},e)}))]})]}),Object(Y.jsxs)(Se.a,{variant:"outlined",error:M.price,children:[Object(Y.jsx)(_e.a,{htmlFor:"outlined-age-native-simple",children:"To"}),Object(Y.jsxs)(st.a,{native:!0,value:v,placeholder:"max",onChange:function(e){return y(e.target.value)},label:"To",inputProps:{name:"checklist.priceRange.max",id:"outlined-age-native-simple"},children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),xt.map((function(e){return Object(Y.jsxs)("option",{value:e,children:[" ",e," "]},e)}))]})]}),Object(Y.jsx)("br",{}),C.price&&Object(Y.jsx)(oe.a,{severity:"error",children:C.price}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)(Ae.a,{variant:"contained",onClick:function(){return w.go("flatee-area")},children:Object(Y.jsx)(Ve.a,{})}),Object(Y.jsx)(Ae.a,{variant:"contained",disabled:0==x||3e3==v,color:"primary",type:"submit",children:Object(Y.jsx)(Fe.a,{})})]})]})})},ft=Object(J.i)((function(e){var t=e.navigation;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(K.a,{component:"h4",children:"Finally, check your information..."}),Object(Y.jsxs)("section",{children:[Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)("h4",{children:"Account information"}),Object(Y.jsx)(Ae.a,{variant:"outlined",size:"medium",color:"primary",onClick:function(){t.go("username")},children:Object(Y.jsx)(rt.a,{})})]}),Object(Y.jsxs)("p",{children:["Username: ",e.user.username," "]}),Object(Y.jsxs)("p",{children:["Email: ",e.user.email," "]})]}),Object(Y.jsxs)("section",{children:[Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)("h4",{children:"Personal Information"}),Object(Y.jsx)(Ae.a,{variant:"outlined",size:"medium",color:"primary",onClick:function(){t.go("flat-information")},children:Object(Y.jsx)(rt.a,{})})]}),Object(Y.jsxs)("p",{children:["Full name: ",e.user.firstName," ",e.user.lastName," "]}),Object(Y.jsxs)("p",{children:["D.O.B: ",nt()(e.user.dob).format("DD/MM/YYYY")]})]}),Object(Y.jsxs)("section",{children:[Object(Y.jsxs)("div",{className:"display-button",children:[Object(Y.jsx)("h4",{children:"Extra information"}),Object(Y.jsx)(Ae.a,{variant:"outlined",size:"medium",color:"primary",onClick:function(){t.go("flatee-checklist")},children:Object(Y.jsx)(rt.a,{})})]}),e.user.checklist.isSmoker&&Object(Y.jsx)("p",{children:"- Smoker"}),e.user.checklist.hasPet&&Object(Y.jsx)("p",{children:"- Has Pet"}),e.user.checklist.isCouple&&Object(Y.jsx)("p",{children:"- Lookng for a couple's room"}),Object(Y.jsxs)("p",{children:["- Looking for price range from $",e.user.checklist.priceRange.min," to $",e.user.checklist.priceRange.max]})]}),Object(Y.jsx)("br",{})]})})),gt=(n(287),n(777)),vt=n(781),yt=n(779),wt=n(780),kt=n(778),Nt=[{id:"username"},{id:"flat-information"},{id:"flat-address"},{id:"flat-description"},{id:"flat-checklist"},{id:"flatee-information"},{id:"flatee-area"},{id:"flatee-checklist"},{id:"flatee-review"}],Ct=function(e,t,n,a){switch(e.id){case"username":return Object(Y.jsx)(Ue,Object(we.a)(Object(we.a)({className:"layout"},t),{},{user:n,updateUser:a}));case"flat-information":return Object(Y.jsx)(Ge,Object(we.a)(Object(we.a)({},t),{},{user:n,updateUser:a}));case"flat-address":return Object(Y.jsx)(Je,Object(we.a)(Object(we.a)({},t),{},{user:n,updateUser:a}));case"flat-description":return Object(Y.jsx)(et,Object(we.a)(Object(we.a)({},t),{},{user:n,updateUser:a}));case"flat-checklist":return Object(Y.jsx)(ct,Object(we.a)(Object(we.a)({},t),{},{user:n,updateUser:a}));case"flatee-area":return Object(Y.jsx)(dt,Object(we.a)(Object(we.a)({},t),{},{user:n,updateUser:a}));case"flatee-checklist":return Object(Y.jsx)(Ot,Object(we.a)(Object(we.a)({},t),{},{user:n,updateUser:a}));case"flatee-review":return Object(Y.jsx)(ft,Object(we.a)(Object(we.a)({},t),{},{user:n,updateUser:a}))}};function St(e){var t=e.location,n=H(),c=n.signup,i=n.isAuthed,s=Object(a.useState)({username:"",password:"",email:"",accountType:"",firstName:"",lastName:"",dob:"",address:{street:"",suburb:"",city:"",country:""},existingFlatmates:"",description:"",leaseDate:"",flatRules:{smoking:"",pets:""},preferredArea:{city:"",suburb:[]},checklist:{isCouple:!1,isSmoker:!1,hasPet:!1,priceRange:{min:0,max:3e3}}}),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(ke.a)({steps:Nt,initialStep:0}),b=d.step,h=d.navigation,p=(t.state||{from:{pathname:"/"}}).from,m={navigation:h},x=r.a.useState(!1),O=Object(j.a)(x,2),f=O[0],g=O[1],v=function(){g(!1)};return Object(Y.jsxs)("div",{className:"layout",children:[i&&Object(Y.jsx)(J.b,{to:p}),Object(Y.jsx)(Oe,{className:"logo-display"}),Ct(b,m,l,(function(e){u((function(t){return Object(we.a)(Object(we.a)({},t),e)}))})),("flatee-review"==b.id||"flat-checklist"==b.id)&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)(re.a,{className:"single-button",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),g(!0)},children:"Complete"}),Object(Y.jsxs)(gt.a,{open:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Y.jsx)(kt.a,{id:"alert-dialog-title",children:"Confirmation"}),Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(wt.a,{id:"alert-dialog-description",children:"Your account has been created. You are officially a member of Flinder now."})}),Object(Y.jsx)(vt.a,{children:Object(Y.jsx)(re.a,{onClick:function(){v(),c(l).then((function(e){console.log(null===e||void 0===e?void 0:e.message)})).catch((function(e){console.log(e)}))},color:"primary",autoFocus:!0,children:"OK"})})]})]})]})}var It=n(5),Et=n(798),Mt=n(795),At=n(796),Dt=n(772),Ft=n(799),Ut=n(797),Pt=n(319),Tt=n(408),Lt=n.n(Tt),Rt=n(410),Bt=n.n(Rt),zt=n(409),Wt=n.n(zt),Yt=n(684),_t=n(782),Ht=n(783),Vt=n(784),qt=n(387),Gt=n.n(qt),$t=n(388),Zt=n.n($t),Jt=n(389),Kt=n.n(Jt),Xt=n(390),Qt=n.n(Xt),en=n(391),tn=n.n(en),nn=n(267),an=n.n(nn),rn=Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(Gt.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Dashboard"})]}),Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(Zt.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Orders"})]}),Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(Kt.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Customers"})]}),Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(Qt.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Reports"})]}),Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(tn.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Integrations"})]})]}),cn=Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Vt.a,{inset:!0,children:"Saved reports"}),Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(an.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Current month"})]}),Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(an.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Last quarter"})]}),Object(Y.jsxs)(Yt.a,{button:!0,children:[Object(Y.jsx)(_t.a,{children:Object(Y.jsx)(an.a,{})}),Object(Y.jsx)(Ht.a,{primary:"Year-end sale"})]})]}),sn=n(80),on=n(785),ln=n(786),un=n(406),jn=n(407),dn=n(98),bn=n(437);function hn(e){return Object(Y.jsx)(K.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}function pn(e,t){return{time:e,amount:t}}var mn=[pn("00:00",0),pn("03:00",300),pn("06:00",600),pn("09:00",800),pn("12:00",1500),pn("15:00",2e3),pn("18:00",2400),pn("21:00",2400),pn("24:00",void 0)];function xn(){var e=Object(sn.a)();return Object(Y.jsxs)(r.a.Fragment,{children:[Object(Y.jsx)(hn,{children:"Today"}),Object(Y.jsx)(on.a,{children:Object(Y.jsxs)(ln.a,{data:mn,margin:{top:16,right:16,bottom:0,left:24},children:[Object(Y.jsx)(un.a,{dataKey:"time",stroke:e.palette.text.secondary}),Object(Y.jsx)(jn.a,{stroke:e.palette.text.secondary,children:Object(Y.jsx)(dn.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"Sales ($)"})}),Object(Y.jsx)(bn.a,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1})]})})]})}function On(e){e.preventDefault()}var fn=Object(se.a)({depositContext:{flex:1}});function gn(){var e=fn();return Object(Y.jsxs)(r.a.Fragment,{children:[Object(Y.jsx)(hn,{children:"Recent Deposits"}),Object(Y.jsx)(K.a,{component:"p",variant:"h4",children:"$3,024.00"}),Object(Y.jsx)(K.a,{color:"textSecondary",className:e.depositContext,children:"on 15 March, 2019"}),Object(Y.jsx)("div",{children:Object(Y.jsx)(X.a,{color:"primary",href:"#",onClick:On,children:"View balance"})})]})}var vn=n(790),yn=n(794),wn=n(793),kn=n(791),Nn=n(792);function Cn(e,t,n,a,r,c){return{id:e,date:t,name:n,shipTo:a,paymentMethod:r,amount:c}}var Sn=[Cn(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),Cn(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),Cn(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),Cn(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),Cn(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79)];function In(e){e.preventDefault()}var En=Object(se.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Mn(){var e=En();return Object(Y.jsxs)(r.a.Fragment,{children:[Object(Y.jsx)(hn,{children:"Recent Orders"}),Object(Y.jsxs)(vn.a,{size:"small",children:[Object(Y.jsx)(kn.a,{children:Object(Y.jsxs)(Nn.a,{children:[Object(Y.jsx)(wn.a,{children:"Date"}),Object(Y.jsx)(wn.a,{children:"Name"}),Object(Y.jsx)(wn.a,{children:"Ship To"}),Object(Y.jsx)(wn.a,{children:"Payment Method"}),Object(Y.jsx)(wn.a,{align:"right",children:"Sale Amount"})]})}),Object(Y.jsx)(yn.a,{children:Sn.map((function(e){return Object(Y.jsxs)(Nn.a,{children:[Object(Y.jsx)(wn.a,{children:e.date}),Object(Y.jsx)(wn.a,{children:e.name}),Object(Y.jsx)(wn.a,{children:e.shipTo}),Object(Y.jsx)(wn.a,{children:e.paymentMethod}),Object(Y.jsx)(wn.a,{align:"right",children:e.amount})]},e.id)}))})]}),Object(Y.jsx)("div",{className:e.seeMore,children:Object(Y.jsx)(X.a,{color:"primary",href:"#",onClick:In,children:"See more orders"})})]})}function An(){return Object(Y.jsxs)(K.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Y.jsx)(X.a,{color:"inherit",href:"".concat(h),children:"".concat(b)})," ",(new Date).getFullYear(),"."]})}var Dn=Object(se.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(we.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Ne.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Fn(){var e=Dn(),t=r.a.useState(!0),n=Object(j.a)(t,2),a=n[0],c=n[1],i=Object(It.a)(e.paper,e.fixedHeight);return Object(Y.jsxs)("div",{className:e.root,children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsx)(Mt.a,{position:"absolute",className:Object(It.a)(e.appBar,a&&e.appBarShift),children:Object(Y.jsxs)(At.a,{className:e.toolbar,children:[Object(Y.jsx)(Ae.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:Object(It.a)(e.menuButton,a&&e.menuButtonHidden),children:Object(Y.jsx)(Lt.a,{})}),Object(Y.jsx)(K.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Dashboard"}),Object(Y.jsx)(Ae.a,{color:"inherit",children:Object(Y.jsx)(Ut.a,{badgeContent:4,color:"secondary",children:Object(Y.jsx)(Wt.a,{})})})]})}),Object(Y.jsxs)(Et.a,{variant:"permanent",classes:{paper:Object(It.a)(e.drawerPaper,!a&&e.drawerPaperClose)},open:a,children:[Object(Y.jsx)("div",{className:e.toolbarIcon,children:Object(Y.jsx)(Ae.a,{onClick:function(){c(!1)},children:Object(Y.jsx)(Bt.a,{})})}),Object(Y.jsx)(Ft.a,{}),Object(Y.jsx)(Dt.a,{children:rn}),Object(Y.jsx)(Ft.a,{}),Object(Y.jsx)(Dt.a,{children:cn})]}),Object(Y.jsxs)("main",{className:e.content,children:[Object(Y.jsx)("div",{className:e.appBarSpacer}),Object(Y.jsxs)(Q.a,{maxWidth:"lg",className:e.container,children:[Object(Y.jsxs)(ce.a,{container:!0,spacing:3,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,md:8,lg:9,children:Object(Y.jsx)(Pt.a,{className:i,children:Object(Y.jsx)(xn,{})})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,md:4,lg:3,children:Object(Y.jsx)(Pt.a,{className:i,children:Object(Y.jsx)(gn,{})})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{className:e.paper,children:Object(Y.jsx)(Mn,{})})})]}),Object(Y.jsx)(ie.a,{pt:4,children:Object(Y.jsx)(An,{})})]})]})]})}function Un(){return Object(Y.jsxs)(K.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Y.jsx)(X.a,{color:"inherit",href:h,children:b})," ",(new Date).getFullYear(),"."]})}var Pn=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},button:{margin:e.spacing(3,0,2)}}}));function Tn(e){var t=e.location,n=Pn(),a=H(),r=(a.signin,a.isAuthed),c=(t.state||{from:{pathname:"/"}}).from;return Object(Y.jsxs)(Y.Fragment,{children:[r&&Object(Y.jsx)(J.b,{to:c}),Object(Y.jsxs)(Q.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsxs)("div",{className:n.paper,children:[Object(Y.jsx)(Oe,{className:"logo-display"}),Object(Y.jsxs)(K.a,{component:"h1",variant:"h5",children:["Welcome to ",b]}),Object(Y.jsx)(re.a,{id:"sign-in",type:"button",component:s.b,to:"/login",variant:"contained",color:"primary",fullWidth:!0,className:n.button,children:"Sign In"}),Object(Y.jsx)(re.a,{id:"sign-up",type:"button",component:s.b,to:"/register",variant:"contained",color:"primary",fullWidth:!0,className:n.button,children:"Sign Up"})]}),Object(Y.jsx)(ie.a,{mt:8,children:Object(Y.jsx)(Un,{})})]})]})}var Ln=n(26),Rn=n(436),Bn=n(180),zn=n.n(Bn);function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Yn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _n=a.createElement("style",{type:"text/css"},"\n\t.st0{fill:#FFFFFF;}\n"),Hn=a.createElement("g",null,a.createElement("path",{className:"st0",d:"M17.7,32.7h-6.1v13.9h6.1v32.5h17.5V46.6H45V32.7h-9.7c0-3.8,1.8-6.6,6.8-6.6c1.2,0,2.2,0.1,2.9,0.2V12.8 c-1.8-0.3-4.4-0.7-7.7-0.7C20.3,12.1,17.7,24.1,17.7,32.7z"}),a.createElement("rect",{x:54.2,y:15,className:"st0",width:17.5,height:64.1}),a.createElement("path",{className:"st0",d:"M144.5,31.6c-6.7,0-10.9,2.8-13.4,6v-5h-17.5v46.4h17.5v-25c0-3.7,2.7-6.3,7-6.3c4.3,0,7,2.7,7,6.3v25h17.5 v-29C162.6,43.3,160,31.6,144.5,31.6z"}),a.createElement("path",{className:"st0",d:"M207.6,36.5c-2.8-2.9-6.9-4.9-12.8-4.9c-15.4,0-23,12.2-23,24.4c0,12.2,7.6,24.4,23,24.4 c5.9,0,10-1.9,12.8-4.9v3.8h17.5V15h-17.5V36.5z M198.3,64.2c-5.4,0-8.9-3.5-8.9-8.2c0-4.9,3.4-8.3,8.9-8.3c5.2,0,8.9,3.4,8.9,8.3 C207.2,60.9,203.5,64.2,198.3,64.2z"}),a.createElement("path",{className:"st0",d:"M260.5,31.6c-15.1,0-26.1,10.8-26.1,24.5c0,14.5,11.3,24.3,27.9,24.3c9.6,0,17.4-4.3,20.9-10.1l-11.8-6.6 c-1.6,1.7-4.8,3.8-9.1,3.8c-5.7,0-9.4-2.6-10.8-7l34.1-0.1C287.9,41.7,275.1,31.6,260.5,31.6z M251.5,51.6c1.3-4.3,4.5-7.2,9-7.2 c5.2,0,8.2,2.8,9.1,7.1L251.5,51.6z"}),a.createElement("path",{className:"st0",d:"M312.7,40v-7.3h-17.5v46.4h17.5V61.7c0-7.4,1.5-13.7,14.7-12.2V31.6C321.8,31.6,316,34.7,312.7,40z"}),a.createElement("polygon",{className:"st0",points:"84.6,25.8 100.6,25.8 92.6,18  "}),a.createElement("polygon",{className:"st0",points:"83.9,32.7 83.9,32.9 83.9,36.4 83.9,42.7 83.9,79.2 101.4,79.2 101.4,42.6 101.4,42.5 101.4,29.2  83.9,29.2  "}),a.createElement("path",{className:"st0",d:"M92.5,12.1L92.5,12.1c-8.8,0-16,7-16,15.5v2c0,3.4,1.1,6.6,3.1,9.2v-9.6v-3.4v-0.1l0,0l0,0l13-12.6l0,0l0,0 l13,12.6l0,0v0.1h0v12.6c1.8-2.5,2.8-5.5,2.8-8.8v-2C108.5,19.1,101.3,12.1,92.5,12.1z"}));function Vn(e,t){var n=e.title,r=e.titleId,c=Yn(e,["title","titleId"]);return a.createElement("svg",Wn({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 341 87",style:{enableBackground:"new 0 0 341 87"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,_n,Hn)}var qn=a.forwardRef(Vn),Gn=(n.p,n(312)),$n=n.n(Gn),Zn=n(418),Jn=n.n(Zn),Kn=n(850),Xn=n(412),Qn=n.n(Xn),ea=(n(655),n(807)),ta=n(834),na=n(852),aa=n(831),ra=n(828),ca=n(853),ia=n(854),sa=n(855),oa=n(856),la=Object(se.a)((function(e){return{formControl:{margin:e.spacing(0),minWidth:150},listDisplay:{margin:30}}})),ua={PaperProps:{style:{maxHeight:224,width:250}}};function ja(){var e=la(),t=H(),n=t.user,r=t.jwt,c=Object(a.useState)(!1),i=Object(j.a)(c,2),s=i[0],o=i[1],d=Object(a.useState)(n.checklist.isCouple),b=Object(j.a)(d,2),h=b[0],m=b[1],x=Object(a.useState)(n.checklist.isSmoker),f=Object(j.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)(n.checklist.hasPet),w=Object(j.a)(y,2),k=w[0],N=w[1],C=Object(a.useState)(n.checklist.priceRange.min),S=Object(j.a)(C,2),I=S[0],E=S[1],M=Object(a.useState)(n.checklist.priceRange.max),A=Object(j.a)(M,2),D=A[0],F=A[1],U=Object(a.useState)(n.rentUnits),P=Object(j.a)(U,2),T=P[0],L=P[1],R=Object(a.useState)(""),B=Object(j.a)(R,2),z=B[0],W=B[1],_=Object(a.useState)([]),V=Object(j.a)(_,2),q=V[0],G=V[1],$=Object(a.useState)(""),Z=Object(j.a)($,2),J=Z[0],X=Z[1],Q=Object(a.useState)([]),ee=Object(j.a)(Q,2),ne=ee[0],ce=ee[1],ie=Object(a.useState)([]),se=Object(j.a)(ie,2),oe=se[0],le=se[1],ue=Object(a.useState)([]),je=Object(j.a)(ue,2),de=je[0],be=je[1],he=Object(a.useState)(""),pe=Object(j.a)(he,2),me=pe[0],xe=pe[1],Oe=[],fe=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:return t=e.sent,e.next=5,ve(t,be);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return fe()}),[]);var ge=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&(m(n.checklist.isCouple),v(n.checklist.isSmoker),N(n.checklist.hasPet),E(n.checklist.priceRange.min),F(n.checklist.priceRange.max),L(n.rentUnits),W(""),G([]),X(""),xe(""),o(e))}};function ve(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(p,"/locations/"),r="Bearer ".concat(t),e.next=5,O.a.get(a,{headers:{Authorization:r}}).then((function(e){var t=e.data;console.log(t),n(t)})).catch((function(e){console.log("error "+e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return ke.apply(this,arguments)}function ke(){return(ke=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n={username:"admin",password:"admin"},e.next=4,O.a.post("".concat(p,"/users/authenticate"),n).then((function(e){t=e.data.token}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){var e=I,t=D;50==I?e=50:""==I&&(e=t+1),50==D?t=50:""==D&&(t=0),xe(t>=e?"":"Invalid Price Bound.")}()}),[I,D]);var Ne=function(){return Object(Y.jsxs)(ea.a,{role:"presentation",className:e.listDisplay,children:[Object(Y.jsx)(K.a,{variant:"h4",className:"filterText",children:"Filter"}),Object(Y.jsx)(na.a,{children:Object(Y.jsx)(aa.a,{label:"My ideal flat..."})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(ca.a,{component:"fieldset",children:Object(Y.jsx)(ia.a,{control:Object(Y.jsx)(ae.a,{name:"smoker",color:"primary",checked:g,onChange:function(e){v(!g)}}),label:"Smoker Allowed",labelPlacement:"end"})})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(ca.a,{component:"fieldset",children:Object(Y.jsx)(ia.a,{control:Object(Y.jsx)(ae.a,{name:"couple",color:"primary",checked:h,onChange:function(e){m(!h)}}),label:"Couple Allowed",labelPlacement:"end"})})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(ca.a,{component:"fieldset",children:Object(Y.jsx)(ia.a,{control:Object(Y.jsx)(ae.a,{name:"pets",color:"primary",checked:k,onChange:function(e){N(!k)}}),label:"Pets Allowed",labelPlacement:"end"})})}),Object(Y.jsx)(na.a,{children:Object(Y.jsx)(aa.a,{label:"Price Range"})}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(ra.a,{item:!0,container:!0,xs:12,direction:"row",justifyContent:"space-around",children:[Object(Y.jsx)(ra.a,{item:!0,spacing:2,children:Object(Y.jsxs)(sa.a,{variant:"outlined",children:[Object(Y.jsx)(_e.a,{htmlFor:"outlined-age-native-simple",children:"From"}),Object(Y.jsxs)(st.a,{native:!0,startAdornment:Object(Y.jsx)(oa.a,{position:"start",children:"$"}),value:I,placeholder:"min",onChange:function(e){E(e.target.value)},label:"From",inputProps:{name:"checklist.priceRange.min",id:"outlined-age-native-simple"},children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),Oe.map((function(e){return Object(Y.jsxs)("option",{value:e,children:[" ",e," "]},e)}))]})]})}),Object(Y.jsx)(ra.a,{item:!0,children:Object(Y.jsxs)(sa.a,{variant:"outlined",children:[Object(Y.jsx)(_e.a,{htmlFor:"outlined-age-native-simple",children:"To"}),Object(Y.jsxs)(st.a,{native:!0,startAdornment:Object(Y.jsx)(oa.a,{position:"start",children:"$"}),value:D,placeholder:"max",onChange:function(e){F(e.target.value)},label:"To",inputProps:{name:"checklist.priceRange.max",id:"outlined-age-native-simple"},children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),Oe.map((function(e){return Object(Y.jsxs)("option",{value:e,children:[" ",e," "]},e)}))]})]})})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsxs)(te.a,{className:"input",label:"Rent Units",variant:"outlined",select:!0,required:!0,value:T,onChange:function(e){L(e.target.value)},children:[Object(Y.jsx)(ot.a,{value:"Per Week",children:"Per Week"}),Object(Y.jsx)(ot.a,{value:"Per Fortnight",children:"Per Fortnight"}),Object(Y.jsx)(ot.a,{value:"Per Month",children:"Per Month"})]})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(na.a,{children:Object(Y.jsx)(aa.a,{label:"Location"})}),Object(Y.jsx)("br",{}),Object(Y.jsx)(ra.a,{item:!0,children:Object(Y.jsxs)(sa.a,{variant:"standard",className:e.formControl,children:[Object(Y.jsx)(_e.a,{children:" City (If you wish to change location) "}),Object(Y.jsxs)(st.a,{native:!0,name:"city",value:z,onChange:function(e){W(e.target.value),X(""),ce(""),le([]);for(var t=[],n=0;n<de.length;n++)de[n].city==e.target.value&&t.push(de[n].region.name);ce(t)},children:[Object(Y.jsx)("option",{value:""}),Object(Y.jsx)("option",{value:"Auckland",children:"Auckland"}),Object(Y.jsx)("option",{value:"Wellington",children:"Wellington"})]})]})}),Object(Y.jsx)("br",{}),z&&Object(Y.jsx)(ra.a,{item:!0,children:Object(Y.jsxs)(sa.a,{variant:"standard",className:e.formControl,children:[Object(Y.jsx)(_e.a,{children:" District (Optional) "}),Object(Y.jsxs)(st.a,{native:!0,placeholder:"Optional",name:"region",value:J,onChange:function(e){X(e.target.value),G([]);for(var t=0;t<de.length;t++)de[t].region.name==e.target.value&&le(de[t].region.suburb)},children:[Object(Y.jsx)("option",{value:""}),ne.map((function(e){return Object(Y.jsx)("option",{value:e,children:e},e)}))]})]})}),Object(Y.jsx)("br",{}),J&&Object(Y.jsx)(ra.a,{item:!0,children:Object(Y.jsxs)(sa.a,{className:e.formControl,children:[Object(Y.jsx)(_e.a,{children:"Suburb (Optional)"}),Object(Y.jsx)(st.a,{className:"input",multiple:!0,name:"suburb",variant:"outlined",value:q,onChange:function(e){return G(e.target.value)},input:Object(Y.jsx)(lt.a,{}),MenuProps:ua,children:oe.map((function(e){return Object(Y.jsx)(ot.a,{value:e,children:e},e)}))})]})}),Object(Y.jsx)("br",{}),Object(Y.jsx)(re.a,{className:"filter",variant:"contained",color:"primary",size:"large",onClick:function(){return Ce()},children:"Submit"}),Object(Y.jsx)("p",{className:"feedback",children:me})]})},Ce=function(){if(D-I>=0&&""!==I&&""!==D){var e="".concat(p,"/users/").concat(n.id),t={headers:{Authorization:"Bearer ".concat(r)}},a={city:z,suburb:q};if(""!==z){if(0===q.length){if(0!==ne.length)for(var c=0;c<de.length;c++){var i;if(de[c].region.name===J)(i=a.suburb).push.apply(i,Object(it.a)(de[c].region.suburb))}if(""===J)for(var s=0;s<de.length;s++){var o;if(de[s].city==z)(o=a.suburb).push.apply(o,Object(it.a)(de[s].region.suburb))}}}else""===z&&(a=n.preferredArea);var l=Object.assign({},n.checklist);l.priceRange.min=I,l.priceRange.max=D,l.isCouple=h,l.isSmoker=g,l.hasPet=k;var u={username:n.username,firstName:n.firstName,lastName:n.lastName,email:n.email,dob:n.dob,role:n.role.toLowerCase(),address:n.address,description:n.description,preferredArea:a,checklist:l,rentUnits:T};O.a.put(e,u,t),window.location.reload(!1)}};return Object(Y.jsx)(Y.Fragment,{children:(function(){for(var e=0;e<50;e++)Oe[e]=50*(e+1)}(),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Kn.a,{title:"Filter",children:Object(Y.jsx)(re.a,{color:"inherit",onClick:ge(!s),children:Object(Y.jsx)(Qn.a,{})})}),Object(Y.jsx)(ta.a,{variant:"temporary",anchor:"right",open:s,onClose:ge(!1),onOpen:ge(!0),children:Ne()})]}))})}var da=n(45),ba=n(46),ha=n(58),pa=n(59),ma=(n(658),n(416)),xa=n.n(ma),Oa=n(256),fa=n.n(Oa),ga=n(417),va=n.n(ga),ya=function(e){Object(ha.a)(n,e);var t=Object(pa.a)(n);function n(e){var a;return Object(da.a)(this,n),(a=t.call(this,e)).toggleNotification=function(){var e=a.state.toggleNotification;a.setState({toggleNotification:!e})},a.clearAllMessage=function(){a.props.onClearAll&&a.props.onClearAll()},a.generateDate=function(e){return e},a.state={toggleNotification:!1,listItems:[],jwt:a.props.jwt},a}return Object(ba.a)(n,[{key:"componentDidMount",value:function(){this.setState({listItems:this.props.listItems})}},{key:"componentDidUpdate",value:function(e){e.listItems!==this.props.listItems&&this.setState({listItems:this.props.listItems})}},{key:"render",value:function(){var e=this,t=this.state.listItems,n=this.state.jwt,a=0,r=[];t.map((function(t,n){if(0===r.filter((function(n){return n.UTC.date===e.generateDate(t.UTC).date})).length){var c={UTC:e.generateDate(t.UTC),list:[]};r.push(c)}a+=t.list.length})),t.map((function(t,n){var a=e.generateDate(t.UTC).date,c=r.filter((function(e){return e.UTC.date===a})),i=c.length&&c[0].UTC.date;r.map((function(e){e.UTC.date===i&&(t.list.map((function(e){e.timeStamp=t.UTC})),e.list.push(t.list))}))}));var c=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a="http://localhost:4000/notification/read/".concat(t.id),r={headers:{Authorization:"Bearer ".concat(n)}},c={read:!0},e.next=6,O.a.put(a,c,r).then((function(e){return console.log("success",e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)("div",{className:"notification",style:{position:"relative"},children:[Object(Y.jsxs)("div",{className:"iconSection",children:[Object(Y.jsx)(Ae.a,{onClick:function(){return e.toggleNotification()},style:{cursor:"pointer"},color:"inherit",children:Object(Y.jsx)(xa.a,{})}),a>0&&Object(Y.jsx)("span",{className:"iconBadge",children:a})]}),this.state.toggleNotification&&Object(Y.jsxs)("div",{style:{position:"absolute",width:"300px",border:"0.5px solid #8080803d",minHeight:"100px",overflowY:"auto",top:"30px"},className:"notificationBar",children:[Object(Y.jsxs)("div",{style:{display:"flex"},children:[Object(Y.jsx)("p",{style:{fontSize:"14px",textAlign:"left",width:"93%"},children:"Notifications"}),Object(Y.jsx)(Ae.a,{onClick:function(){return e.toggleNotification()},style:{cursor:"pointer"},children:Object(Y.jsx)(fa.a,{})})]}),r.map((function(e,t){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("p",{style:{fontSize:"10px",margin:"5px 0",textAlign:"left",color:"#747474",display:"initial"},children:Object(Y.jsx)("span",{style:{display:"inline-block",width:"50%"},children:e.UTC.date})}),e.list.map((function(e){return e.map((function(e){var t=new Date(1e3*e.timeStamp);t.getUTCMinutes(),t.getUTCHours();return Object(Y.jsxs)(re.a,{variant:"contained",style:{background:"#fff",padding:"15px",margin:"10px",borderRadius:10,width:250},component:s.b,className:"lineItmes",to:e.link,onClick:function(){return c(e)},children:[!e.read&&Object(Y.jsx)(va.a,{fontSize:"small",sx:{margin:1},color:"primary"}),Object(Y.jsx)("span",{style:{fontSize:"13px",fontWeight:700},children:"".concat(e.title.toUpperCase())}),Object(Y.jsx)("div",{style:{fontSize:"11px",padding:10},children:e.message})]},e)}))}))]},e)}))]})]})}}]),n}(r.a.Component);var wa=function(){var e=H(),t=e.user,n=e.jwt,r=Object(a.useState)([]),c=Object(j.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){var e=[];function t(){return(t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getUsersNotifications(n).then((function(t){e=t.data})).catch((function(e){return console.log(e)}));case 2:e.forEach((function(e){s((function(t){return[].concat(Object(it.a)(t),[{UTC:Date.parse(e.date),list:[{title:e.title,message:e.message,link:e.link,read:e.read}]}])}))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[t]),Object(Y.jsx)("div",{className:"App",children:Object(Y.jsx)("header",{className:"App-header",children:Object(Y.jsx)(ya,{listItems:i,jwt:n})})})},ka=240,Na=Object(se.a)((function(e){return{grow:{flexGrow:1},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(ka,"px)"),marginLeft:ka,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:ka,flexShrink:0},drawerPaper:{width:ka},drawerHeader:Object(we.a)(Object(we.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},title:Object(Ne.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Ne.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ln.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ln.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Ne.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(Ne.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(Ne.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function Ca(e){var t=Na(),n=r.a.useState(null),a=Object(j.a)(n,2),c=a[0],i=a[1],o=r.a.useState(null),l=Object(j.a)(o,2),u=l[0],d=l[1],b=(Object(sn.a)(),r.a.useState(!1)),h=Object(j.a)(b,2),p=h[0],m=(h[1],Boolean(c)),x=Boolean(u),O=H().user,f=function(){d(null)},g=function(){i(null),f()},v=Object(Y.jsxs)(Rn.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:g,children:[Object(Y.jsx)(ot.a,{containerElement:Object(Y.jsx)(s.b,{to:"/profile"}),children:"Profile"}),Object(Y.jsx)(ot.a,{onClick:g,children:"My account"})]}),y="primary-search-account-menu-mobile",w=Object(Y.jsxs)(Rn.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:f,children:["home"==e.currentPath&&Object(Y.jsxs)(ot.a,{children:[Object(Y.jsx)(Ae.a,{"aria-label":"show filter",color:"inherit",children:Object(Y.jsx)(Ut.a,{color:"secondary",children:Object(Y.jsx)(Jn.a,{})})}),Object(Y.jsx)("p",{children:"Filter"})]}),H().isAuthed?Object(Y.jsxs)(ot.a,{component:s.b,to:"/logout",children:[Object(Y.jsx)(Ae.a,{color:"inherit",children:Object(Y.jsx)($n.a,{})}),Object(Y.jsx)("p",{children:"Log Out"})]}):null]});return Object(Y.jsxs)("div",{className:t.grow,children:[Object(Y.jsx)(r.a.Fragment,{children:Object(Y.jsx)(Mt.a,{position:"fixed",className:Object(It.a)(t.appBar,Object(Ne.a)({},t.appBarShift,p)),children:Object(Y.jsxs)(At.a,{children:[Object(Y.jsx)(re.a,{color:"inherit","aria-label":"open drawer",component:s.b,to:"/",edge:"start",className:Object(It.a)(t.menuButton,p&&t.hide),children:Object(Y.jsx)(Kn.a,{title:"Go to home page",children:Object(Y.jsx)(qn,{className:"small-logo"})})}),Object(Y.jsx)("div",{className:t.grow}),Object(Y.jsx)(wa,{}),"flatee"==O.role&&"Home"==e.pageName?Object(Y.jsx)(ja,{}):null,Object(Y.jsx)("div",{className:t.sectionDesktop,children:H().isAuthed?Object(Y.jsx)(Ae.a,{component:s.b,to:"/logout",color:"inherit",children:Object(Y.jsx)($n.a,{})}):null}),Object(Y.jsx)("div",{className:t.sectionMobile,children:Object(Y.jsx)(Ae.a,{"aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(Y.jsx)(zn.a,{})})})]})})}),w,v]})}var Sa=n(836),Ia=n(840),Ea=n(838),Ma=n(839),Aa=n(837);function Da(){return(Da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ua=a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M34.71,48.72h-6.13v13.92h6.13v32.52h17.51V62.64h9.73V48.72h-9.73c0-3.76,1.75-6.6,6.81-6.6c1.17,0,2.24,0.09,2.92,0.18 V28.84c-1.85-0.28-4.38-0.73-7.69-0.73C37.33,28.11,34.71,40.11,34.71,48.72z"}),a.createElement("rect",{x:71.2,y:31.04,width:17.51,height:64.12}),a.createElement("path",{d:"M161.49,47.62c-6.71,0-10.9,2.75-13.43,6.05v-4.95h-17.51v46.44h17.51V70.16c0-3.66,2.72-6.32,7.01-6.32 c4.28,0,7.01,2.66,7.01,6.32v25.01h17.51V66.13C179.59,59.35,176.97,47.62,161.49,47.62z"}),a.createElement("path",{d:"M224.65,52.48c-2.82-2.93-6.91-4.86-12.84-4.86c-15.37,0-22.96,12.18-22.96,24.37c0,12.18,7.59,24.37,22.96,24.37 c5.94,0,10.02-1.92,12.84-4.95v3.76h17.51V31.04h-17.51V52.48z M215.3,80.23c-5.45,0-8.85-3.48-8.85-8.24 c0-4.86,3.41-8.34,8.85-8.34c5.16,0,8.85,3.39,8.85,8.34C224.16,76.93,220.46,80.23,215.3,80.23z"}),a.createElement("path",{d:"M277.48,47.62c-15.08,0-26.08,10.81-26.08,24.46c0,14.47,11.29,24.28,27.93,24.28c9.63,0,17.42-4.31,20.92-10.08 l-11.77-6.6c-1.56,1.74-4.77,3.85-9.15,3.85c-5.74,0-9.44-2.56-10.8-6.96l34.15-0.09C304.92,57.7,292.08,47.62,277.48,47.62z  M268.53,67.59c1.27-4.31,4.48-7.15,8.95-7.15c5.16,0,8.17,2.75,9.15,7.05L268.53,67.59z"}),a.createElement("path",{d:"M329.74,56.05v-7.33h-17.51v46.44h17.51v-17.5c0-7.42,1.46-13.65,14.69-12.18V47.62 C338.79,47.62,333.05,50.74,329.74,56.05z"}),a.createElement("polygon",{points:"101.6,41.77 117.58,41.77 109.59,34.01  "}),a.createElement("polygon",{points:"100.87,48.72 100.87,48.89 100.87,52.36 100.87,58.7 100.87,95.16 118.39,95.16 118.39,58.56 118.4,58.55  118.4,45.24 100.87,45.24  "}),a.createElement("path",{d:"M109.47,28.11L109.47,28.11c-8.83,0-16,6.96-16,15.54v2.01c0,3.43,1.14,6.6,3.08,9.17v-9.59v-3.36v-0.11h0l0,0l13-12.63 l0.04,0.04l0.04-0.04l13,12.63l-0.01,0.01v0.1h0.01v12.62c1.79-2.51,2.84-5.55,2.84-8.84v-2.01 C125.47,35.07,118.3,28.11,109.47,28.11z"})),a.createElement("g",null,a.createElement("path",{d:"M37.07,111.48v5.39h5.8v1.07h-5.8v6.62h-1.02v-14.17h7.56v1.09H37.07z"}),a.createElement("path",{d:"M63.11,123.48v1.07h-7.33v-14.17h1.04v13.1H63.11z"}),a.createElement("path",{d:"M83,120.59h-6.17l-1.41,3.97h-1.1l5.05-14.17h1.1l5.05,14.17h-1.1L83,120.59z M82.61,119.5l-2.69-7.55l-2.71,7.55H82.61z"}),a.createElement("path",{d:"M103.8,111.48h-3.71v13.08h-1.02v-13.08h-3.69v-1.09h8.43V111.48z"}),a.createElement("path",{d:"M129.49,110.38v14.17h-1.02v-12.15l-5.49,8.54h-0.48l-5.49-8.54v12.15h-1.02v-14.17H117l5.74,8.87l5.72-8.87H129.49z"}),a.createElement("path",{d:"M149.96,120.59h-6.17l-1.41,3.97h-1.1l5.05-14.17h1.1l5.05,14.17h-1.1L149.96,120.59z M149.57,119.5l-2.69-7.55 l-2.71,7.55H149.57z"}),a.createElement("path",{d:"M170.76,111.48h-3.71v13.08h-1.02v-13.08h-3.69v-1.09h8.43V111.48z"}),a.createElement("path",{d:"M190.4,123.48v1.07h-7.46v-14.17h7.29v1.09h-6.26v5.2h5.82v1.07h-5.82v5.73H190.4z"}),a.createElement("path",{d:"M218.67,111.48v5.39h5.8v1.07h-5.8v6.62h-1.02v-14.17h7.56v1.09H218.67z"}),a.createElement("path",{d:"M238.43,110.38v14.17h-1.04v-14.17H238.43z"}),a.createElement("path",{d:"M261.47,110.38v14.17h-1.02l-8.24-12.33v12.33h-1.02v-14.17h1.02l8.24,12.33v-12.33H261.47z"}),a.createElement("path",{d:"M284.94,117.47c0,4.05-2.8,7.09-6.67,7.09h-4.04v-14.17h4.04C282.14,110.38,284.94,113.42,284.94,117.47z M283.92,117.47 c0-3.44-2.34-5.99-5.65-5.99h-3.02v12.01h3.02C281.58,123.48,283.92,120.93,283.92,117.47z"}),a.createElement("path",{d:"M304.58,123.48v1.07h-7.46v-14.17h7.29v1.09h-6.26v5.2h5.82v1.07h-5.82v5.73H304.58z"}),a.createElement("path",{d:"M324.86,124.56l-3.54-5.97c-0.25,0.02-0.52,0.04-0.79,0.04h-2.75v5.93h-1.03v-14.17h3.77c2.96,0,4.74,1.52,4.74,4.13 c0,1.98-1.04,3.34-2.86,3.87l3.65,6.18H324.86z M320.53,117.55c2.38,0,3.71-1.03,3.71-3.04c0-2.03-1.33-3.04-3.71-3.04h-2.75v6.07 H320.53z"}))),Pa=a.createElement("g",null),Ta=a.createElement("g",null),La=a.createElement("g",null),Ra=a.createElement("g",null),Ba=a.createElement("g",null);function za(e,t){var n=e.title,r=e.titleId,c=Fa(e,["title","titleId"]);return a.createElement("svg",Da({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 368.25 157.14",style:{enableBackground:"new 0 0 368.25 157.14"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Ua,Pa,Ta,La,Ra,Ba)}var Wa=a.forwardRef(za);n.p;function Ya(){return _a.apply(this,arguments)}function _a(){return(_a=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n={username:"admin",password:"admin"},e.next=4,O.a.post("".concat(p,"/users/authenticate"),n).then((function(e){t=e.data.token}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(){return(Ha=Object(u.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya();case 2:n=e.sent,a=p,r="Bearer ".concat(n),a+="/users/",a+=t.id,O.a.delete(a,{headers:{Authorization:r}}),console.log(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Va,qa=function(e,t,n){return Object(Y.jsxs)(Sa.a,{open:e,onClose:t,children:[Object(Y.jsx)(Wa,{className:"logo-display"}),Object(Y.jsx)(Aa.a,{children:"DELETE YOUR ACCOUNT"}),Object(Y.jsx)(Ea.a,{children:Object(Y.jsxs)(Ma.a,{children:["By deleting your account, you will no longer be able to use Flinder or receiving any notifications from us. ",Object(Y.jsx)("br",{}),"If you want to take a break from Flinder, you can just log out instead.",Object(Y.jsx)("br",{}),"If you want to permanently delete your account, click CONFIRM."]})}),Object(Y.jsxs)(Ia.a,{children:[Object(Y.jsx)(re.a,{onClick:t,children:"Cancel"}),Object(Y.jsx)(re.a,{onClick:n,variant:"contained",color:"primary",children:"Confirm"})]})]})},Ga=function(){var e=r.a.useState(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],c=H().user,i=r.a.useState(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],u={pathname:"/logout"};return Object(Y.jsxs)("div",{children:[o&&Object(Y.jsx)(J.b,{to:u}),Object(Y.jsx)(re.a,{variant:"outlined",onClick:function(){a(!0)},children:"DELETE ACCOUNT"}),qa(n,(function(){a(!1)}),(function(){!function(e){Ha.apply(this,arguments)}(c),l(!0),a(!1)}))]})},$a=n(685),Za=n(806),Ja=n(851),Ka=n(827),Xa=n(143),Qa=n.n(Xa);Object(qe.a)(Va||(Va=Object(ze.a)(["\n  .react-calendar {\n    height: auto;\n  },\n  .react-calendar__navigation{\n    height: 30px;\n    margin-bottom: 0;\n  }\n  .react-calendar__year-view .react-calendar__tile, \n  .react-calendar__decade-view .react-calendar__tile, .react-calendar__century-view .react-calendar__tile{\n    padding: 1em 0.5em;\n  }\n  .react-date-picker__calendar{\n    position: absolute;\n    height: 143px\n  }\n"])));var er=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}})),tr=function(e){var t=er(),n=nt()(e.newUser.dob).format("YYYY,MM,DD").split(","),a=parseInt(n[1])-1;n[1]=a;var c=r.a.useState(new Date(n[0],n[1],n[2])),i=Object(j.a)(c,2),s=i[0],o=i[1],l=e.error;return Object(Y.jsx)(Ja.a,{className:t.paper,variant:"outlined",children:Object(Y.jsxs)(ra.a,{container:!0,spacing:2,xs:12,children:[Object(Y.jsx)(ra.a,{item:!0,xs:6,children:Object(Y.jsx)(te.a,{error:!!l.firstName,label:"First name",variant:"outlined",name:"user.firstName",value:e.newUser.firstName,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{firstName:t.target.value})}))},helperText:l.firstName&&l.firstName,fullWidth:!0})}),Object(Y.jsx)(ra.a,{item:!0,xs:6,children:Object(Y.jsx)(te.a,{label:"Last name",variant:"outlined",error:!!l.lastName,value:e.newUser.lastName,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{lastName:t.target.value})}))},helperText:l.lastName&&l.lastName,fullWidth:!0})}),Object(Y.jsxs)(ra.a,{item:!0,xs:9,children:[Object(Y.jsx)(Ka.a,{children:" D.O.B "}),Object(Y.jsx)(Qa.a,{id:"datePicker",className:"calendar-display",label:"D.O.B",value:s,minDate:new Date(1921,2,1),maxDate:new Date(2006,2,1),onChange:function(t){o(t),e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{dob:t})}))},placeholder:"dob",format:"dd/MM/yyyy"})]})]})})},nr=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}})),ar=function(e){var t=nr(),n=e.error;return Object(Y.jsx)(Ja.a,{className:t.paper,variant:"outlined",children:Object(Y.jsxs)(ra.a,{container:!0,spacing:2,xs:12,children:[Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Username",variant:"outlined",value:e.newUser.username,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{username:t.target.value})}))},fullWidth:!0,InputProps:{readOnly:!0},helperText:"Username cannot be changed."})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Email",variant:"outlined",error:!!n.email,helperText:n.email?n.email:null,value:e.newUser.email,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{email:t.target.value})}))},fullWidth:!0})})]})})},rr=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}})),cr=function(e){var t=rr(),n=e.error,c=nt()(e.newUser.leaseDate).format("YYYY,MM,DD").split(","),i=parseInt(c[1])-1;c[1]=i;var s=r.a.useState(new Date(c[0],c[1],c[2])),o=Object(j.a)(s,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){void 0==e.newUser.flatRules&&e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{},{flatRules:{smoking:!1,pets:!1}})}))}),[]),Object(Y.jsx)(Ja.a,{className:t.paper,variant:"outlined",children:Object(Y.jsxs)(ra.a,{container:!0,spacing:2,xs:12,children:[Object(Y.jsx)(ra.a,{item:!0,xs:6,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Street",variant:"outlined",error:!!n.street,helperText:!!n.street&&n.street,value:e.newUser.address.street,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{},{address:Object(we.a)(Object(we.a)({},e.address),{},{street:t.target.value})})}))},required:!0,fullWidth:!0})}),Object(Y.jsx)(ra.a,{item:!0,xs:6,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Suburb",variant:"outlined",error:!!n.suburb,value:e.newUser.address.suburb,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{},{address:Object(we.a)(Object(we.a)({},e.address),{},{suburb:t.target.value})})}))},required:!0,fullWidth:!0})}),Object(Y.jsx)(ra.a,{item:!0,xs:6,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"City",variant:"outlined",error:!!n.city,helperText:n.city?n.city:null,value:e.newUser.address.city,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{},{address:Object(we.a)(Object(we.a)({},e.address),{},{city:t.target.value})})}))},fullWidth:!0})}),Object(Y.jsx)(ra.a,{item:!0,xs:6,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Country",variant:"outlined",value:e.newUser.address.country,InputProps:{readOnly:!0},fullWidth:!0})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Existing flatmates",variant:"outlined",value:e.newUser.existingFlatmates,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{existingFlatmates:t.target.value})}))},required:!0,error:!!n.flatmates,helperText:n.flatmates?n.flatmates:null})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Flat description",variant:"outlined",type:"text",value:e.newUser.description,onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{description:t.target.value})}))},autoComplete:"off",multiline:!0,rows:4,fullWidth:!0,required:!0,error:!!n.description,helperText:n.description?n.description:null})}),Object(Y.jsxs)(ra.a,{item:!0,container:!0,children:[Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{variant:"body2",children:"Flat Rules"})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(Qe.a,{component:"fieldset",children:Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{id:"smoking",name:"smoking",color:"primary",checked:void 0!=e.newUser.flatRules&&e.newUser.flatRules.smoking,onChange:function(){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{},{flatRules:Object(we.a)(Object(we.a)({},e.flatRules),{},{smoking:!e.flatRules.smoking})})}))}}),label:"Smokers",labelPlacement:"end"})})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(Qe.a,{component:"fieldset",children:Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(ae.a,{id:"pets",name:"pets",color:"primary",checked:void 0!=e.newUser.flatRules&&e.newUser.flatRules.pets,onChange:function(){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{},{flatRules:Object(we.a)(Object(we.a)({},e.flatRules),{},{pets:!e.flatRules.pets})})}))}}),label:"Pets",labelPlacement:"end"})})})]}),Object(Y.jsxs)(ra.a,{item:!0,xs:9,children:[Object(Y.jsx)(_e.a,{children:" Lease Date "}),Object(Y.jsx)(Qa.a,{id:"datePicker",className:"calendar-display",label:"Lease date",value:l,minDate:new Date,onChange:function(t){u(t),e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{leaseDate:t})}))},placeholder:"Lease date",format:"dd/MM/yyyy"})]})]})})},ir=n(835),sr=[],or=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}})),lr=function(e){var t=or();e.error;return function(){for(var e=0;e<50;e++)sr[e]=50*(e+1)}(),Object(Y.jsxs)(Ja.a,{className:t.paper,variant:"outlined",children:[Object(Y.jsxs)(ra.a,{container:!0,spacing:2,xs:12,children:[Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(ir.a,{variant:"h6",children:"Are you..."})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(ca.a,{component:"fieldset",children:Object(Y.jsx)(ia.a,{control:Object(Y.jsx)(ae.a,{name:"smoker",color:"primary",checked:e.newUser.checklist.isSmoker,onChange:function(t){e.setUser((function(t){return Object(we.a)(Object(we.a)({},t),{},{checklist:Object(we.a)(Object(we.a)({},t.checklist),{},{isSmoker:!e.newUser.checklist.isSmoker})})}))}}),label:"A smoker",labelPlacement:"end"})})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(ca.a,{component:"fieldset",children:Object(Y.jsx)(ia.a,{control:Object(Y.jsx)(ae.a,{name:"smoker",color:"primary",checked:e.newUser.checklist.isCouple,onChange:function(t){e.setUser((function(t){return Object(we.a)(Object(we.a)({},t),{},{checklist:Object(we.a)(Object(we.a)({},t.checklist),{},{isCouple:!e.newUser.checklist.isCouple})})}))}}),label:"A Couple",labelPlacement:"end"})})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(ca.a,{component:"fieldset",children:Object(Y.jsx)(ia.a,{control:Object(Y.jsx)(ae.a,{name:"smoker",color:"primary",checked:e.newUser.checklist.hasPet,onChange:function(t){e.setUser((function(t){return Object(we.a)(Object(we.a)({},t),{},{checklist:Object(we.a)(Object(we.a)({},t.checklist),{},{hasPet:!e.newUser.checklist.hasPet})})}))}}),label:"Having Pets",labelPlacement:"end"})})})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{})]})},ur=n(832),jr=n(841),dr=n(314),br=n.n(dr),hr=n(313),pr=n.n(hr),mr=n(857),xr=n(819),Or=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}})),fr=function(e){var t=e.error,n=e.oldPass,c=e.setOldPass;Object(a.useEffect)((function(){c("")}),[]);var i=Or(),s=r.a.useState(!1),o=Object(j.a)(s,2),l=o[0],u=o[1],d=function(){u(!l)},b=function(e){e.preventDefault()};return Object(Y.jsx)("div",{children:Object(Y.jsx)(Ja.a,{className:i.paper,variant:"outlined",children:Object(Y.jsxs)(ra.a,{container:!0,spacing:2,xs:12,children:[Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsxs)(sa.a,{variant:"outlined",error:!!t.oldPass,fullWidth:!0,children:[Object(Y.jsx)(Ka.a,{htmlFor:"outlined-adornment-password",children:"Old Pass"}),Object(Y.jsx)(ur.a,{id:"outlined-adornment-password",type:l?"text":"password",value:n,onChange:function(e){return c(e.target.value)},endAdornment:Object(Y.jsx)(oa.a,{position:"end",children:Object(Y.jsx)(jr.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:b,edge:"end",children:l?Object(Y.jsx)(pr.a,{}):Object(Y.jsx)(br.a,{})})}),label:"Password"}),t.oldPass&&Object(Y.jsxs)(mr.a,{children:[" ",t.oldPass," "]})]})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsxs)(sa.a,{variant:"outlined",error:!!t.password,fullWidth:!0,children:[Object(Y.jsx)(Ka.a,{htmlFor:"outlined-adornment-password",children:"New Pass"}),Object(Y.jsx)(ur.a,{id:"outlined-adornment-password",type:l?"text":"password",value:e.pw,onChange:function(t){e.setPw(t.target.value)},endAdornment:Object(Y.jsx)(oa.a,{position:"end",children:Object(Y.jsx)(jr.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:b,edge:"end",children:l?Object(Y.jsx)(pr.a,{}):Object(Y.jsx)(br.a,{})})}),label:"Password"}),t.password&&Object(Y.jsxs)(mr.a,{children:[" ",t.password," "]})]})}),Object(Y.jsx)(ra.a,{item:!0,children:Object(Y.jsx)(xr.a,{severity:"warning",children:"Once you save changes, you will be automatically logged out of the system."})})]})})})},gr=n(858),vr=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary},wordLimitDisplay:{textAlign:"right"}}})),yr=function(e){var t=vr(),n=e.error;return Object(Y.jsx)(Ja.a,{className:t.paper,variant:"outlined",children:Object(Y.jsxs)(ra.a,{container:!0,spacing:2,xs:12,children:[Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(xr.a,{severity:"info",children:"Adding a short blurb can increase your chance of getting a match!"})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(te.a,{id:"outlined-basic",label:"Your Bio",variant:"outlined",type:"text",value:e.newUser.bio,inputProps:{maxLength:256},onChange:function(t){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{bio:t.target.value})}))},autoComplete:"off",multiline:!0,rows:4,fullWidth:!0,required:!0,error:!!n.description,helperText:n.description?n.description:null})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(gr.a,{variant:"outlined",onClick:function(){e.setUser((function(e){return Object(we.a)(Object(we.a)({},e),{bio:""})}))},children:"Use an empty bio"})})]})})},wr=a.forwardRef((function(e,t){return Object(Y.jsx)(Za.a,Object(we.a)({direction:"up",ref:t},e))})),kr=function(e,t,n,a,r,c,i,s,o,l){switch(e){case"user-info":return Object(Y.jsx)(tr,{newUser:t,setUser:n,error:a});case"account-info":return Object(Y.jsx)(ar,{newUser:t,setUser:n,error:a});case"flat-info":return Object(Y.jsx)(cr,{newUser:t,setUser:n,error:a});case"flatee-info":return Object(Y.jsx)(lr,{newUser:t,setUser:n,error:a,rentUnits:o,setRentUnits:l});case"pass":return Object(Y.jsx)(fr,{newUser:t,setUser:n,error:a,oldPass:r,setOldPass:c,pw:i,setPw:s});case"flatee-bio":return Object(Y.jsx)(yr,{newUser:t,setUser:n,error:a});default:return Object(Y.jsx)("p",{children:"Edit"})}},Nr=function(e){switch(e){case"user-info":return"User Information";case"account-info":return"Account Information";case"flat-info":return"Flat Information";case"flatee-info":return"Flatee Information";case"pass":return"Change Password";case"flatee-bio":return"Bio";default:return"Edit"}};function Cr(e){var t=e.buttonID,n=e.open,r=e.handleClose,c=H().user,i=a.useState(c),s=Object(j.a)(i,2),o=s[0],d=s[1],b=a.useState(""),h=Object(j.a)(b,2),m=h[0],x=h[1],f=a.useState("Per Week"),g=Object(j.a)(f,2),v=g[0],y=g[1],w=a.useState({}),k=Object(j.a)(w,2),N=k[0],C=k[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(p,"/users/"),e.next=3,Sr();case 3:return n=e.sent,a={headers:{Authorization:"Bearer ".concat(n)}},e.next=7,O.a.get(t,a);case 7:r=e.sent,C(r.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var S=function(){d(c),console.log(o),G({}),"pass"==t&&L(""),r()},I=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("pass is",m),n="".concat(p,"/users/").concat(c.id),e.next=4,Sr();case 4:a=e.sent,r={headers:{Authorization:"Bearer ".concat(a)}},i={username:o.username,firstName:o.firstName,lastName:o.lastName,email:o.email,dob:o.dob,role:o.role.toLowerCase(),address:o.address,description:o.description,leaseDate:o.leaseDate,existingFlatmates:o.existingFlatmates,preferredArea:o.preferredArea,checklist:o.checklist,rentUnits:o.rentUnits,flatRules:o.flatRules},"pass"==t&&(i.password=m),"flatee-bio"==t&&(i.bio=o.bio),console.log("Body params are",i),O.a.put(n,i,r).then((function(e){return console.log("results are",e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=a.useState(!1),M=Object(j.a)(E,2),A=M[0],D=M[1],F={pathname:"/logout"},U=a.useState(""),P=Object(j.a)(U,2),T=P[0],L=P[1],R=a.useState(!1),B=Object(j.a)(R,2),z=B[0],W=B[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("pass"!=t){e.next=5;break}return e.next=3,Er(c.username,T);case 3:n=e.sent,W(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T]);var _=a.useState({}),V=Object(j.a)(_,2),q=V[0],G=V[1],$=function(){var e={};if("user-info"==t&&(o.firstName.match(/^[a-zA-Z]+$/)||(e.firstName="This should contain letters only."),o.lastName.match(/^[a-zA-Z]+$/)||(e.lastName="This should contain letters only.")),"account-info"==t){o.email&&""!==o.email?o.email.match(/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/)||(e.email="Please enter a valid email address"):e.email="Email cannot be empty";for(var n=0;n<N.length;n++)N[n].email==o.email&&N[n].username!=o.username&&(e.email="Email has already been used.")}if("pass"==t&&(T&&""!==T||(e.oldPass="Old password cannot be empty"),""!=T&&1==z&&(e.oldPass="Incorrect password"),m&&""!==m?m.length<6?e.password="Password must be more than 6 characters":m.includes(" ")&&(e.password="Password must not contain a whitespace"):e.password="Password cannot be empty"),"flat-info"==t){o.address.street&&""!==o.address.street||(e.street="Street cannot be empty");for(var a=0;a<N.length;a++)"flat"==N[a].role&&N[a].address.street.toLowerCase()==o.address.street.toLowerCase()&&N[a].username!=o.username&&N[a].address.suburb.toLowerCase()==o.address.suburb.toLowerCase()&&N[a].address.city.toLowerCase()==o.address.city.toLowerCase()&&(e.street="This address has already been used.",e.suburb="This address has already been used");o.address.city&&""!==o.address.city?"auckland"!=o.address.city.toLowerCase()&&"wellington"!=o.address.city.toLowerCase()&&(e.city="This app is currently available on either Auckland or Wellington."):e.city="City cannot be empty",o.existingFlatmates<0&&(e.flatmates="Please enter any numbers larger than 0."),""!==o.description&&o.description||(e.description="This field cannot be empty.")}return"flatee-info"==t&&(o.checklist.priceRange.min&&""!=o.checklist.priceRange.min?o.checklist.priceRange.max&&""!=o.checklist.priceRange.max?o.checklist.priceRange.max-o.checklist.priceRange.min<=0&&(e.price="The maximum value must be larger than the minimum."):e.price="Maximum price cannot be empty.":e.price="Minimum price cannot be empty."),console.log("err",e),e};return Object(Y.jsxs)("div",{children:[A&&Object(Y.jsx)(J.b,{to:F}),Object(Y.jsxs)(Sa.a,{disableEscapeKeyDown:!0,open:n,TransitionComponent:wr,keepMounted:!0,onClose:r,onBackdropClick:S,"aria-describedby":"alert-dialog-slide-description",children:[Object(Y.jsx)(Aa.a,{children:Nr(t)}),Object(Y.jsxs)(Ea.a,{children:[Object(Y.jsx)(ea.a,{sx:{display:"flex","& > :not(style)":{m:1,minWidth:500}},children:kr(t,o,d,q,T,L,m,x,v,y)}),Object(Y.jsxs)(Ia.a,{children:[Object(Y.jsx)(re.a,{onClick:S,children:"Cancel"}),Object(Y.jsx)(re.a,{onClick:function(n){n.preventDefault();var a=$();Object.keys(a).length>0?G(a):(r(),G({}),e.setUser(o),"pass"!=t?(I(),e.handleConfirmationOpen()):"pass"==t&&(I(),D(!0)))},id:"save",variant:"contained",color:"primary",children:"Save"})]})]})]})]})}function Sr(){return Ir.apply(this,arguments)}function Ir(){return(Ir=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n={username:"admin",password:"admin"},e.next=4,O.a.post("".concat(p,"/users/authenticate"),n).then((function(e){t=e.data.token}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Er(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.next=3,O.a.post("".concat(p,"/users/authenticate"),{username:t,password:n}).then((function(e){a=!1})).catch((function(e){a=!0}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ar=a.forwardRef((function(e,t){return Object(Y.jsx)(Za.a,Object(we.a)({direction:"up",ref:t},e))}));function Dr(e){var t=e.open,n=(e.handleClickOpen,e.handleClose);return Object(Y.jsx)("div",{children:Object(Y.jsxs)(Sa.a,{open:t,TransitionComponent:Ar,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:[Object(Y.jsx)(Aa.a,{children:"Confirmation"}),Object(Y.jsx)(Ea.a,{children:Object(Y.jsx)(Ma.a,{id:"alert-dialog-slide-description",children:"Your profile has been updated."})}),Object(Y.jsx)(Ia.a,{children:Object(Y.jsx)(re.a,{id:"ok",onClick:n,children:"Ok"})})]})})}var Fr=!0,Ur=Object(se.a)((function(e){var t;return t={root:{flexGrow:1},bold:{fontWeight:600,textAlign:"left"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},first:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},second:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,boxShadow:"none"},parentPaper:{padding:e.spacing(2),margin:"auto",maxWidth:1600},standalone:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,height:70,boxShadow:"none"},infoDisplay:{padding:e.spacing(2),fontWeight:600,textAlign:"left",color:e.palette.text.secondary,boxShadow:"none"},warning:{padding:e.spacing(2),fontWeight:600,textAlign:"left",color:"red",boxShadow:"none"}},Object(Ne.a)(t,"warning",{padding:e.spacing(2),fontWeight:600,textAlign:"left",color:"red",boxShadow:"none"}),Object(Ne.a)(t,"userInfo",{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary,boxShadow:"none"}),Object(Ne.a)(t,"title",{padding:10,marginLeft:10}),t})),Pr=function(e,t,n){var a=nt()(t.dob).format("YYYY,MMM,DD").split(",");return Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{variant:"outlined",className:e.paper,children:Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{className:e.bold,children:"Basic Information"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Name"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsxs)(Pt.a,{className:e.userInfo,children:[t.firstName," ",t.lastName]})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"D.O.B"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsxs)(Pt.a,{className:e.userInfo,children:[a[2],"/",a[1],"/",a[0]]})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",id:"user-info",onClick:n,children:"Edit"})})]})})})},Tr=function(e,t,n){return Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{variant:"outlined",className:e.paper,children:Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{className:e.bold,children:"Account Information"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Username"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.username})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Email"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.email})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Password"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:Object(Y.jsx)(re.a,{id:"pass",onClick:n,children:" Change password "})})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",id:"account-info",onClick:n,children:"Edit"})})]})})})},Lr=function(e,t,n,a){return Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{variant:"outlined",className:e.paper,children:Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{className:e.bold,children:"Flat Information"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Address"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsxs)(Pt.a,{className:e.userInfo,children:[t.address.street,", ",t.address.suburb,", ",t.address.city,", New Zealand"]})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Existing flatmates"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.existingFlatmates})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Flat description"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.description})}),Rr(a,e),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:nt()(t.leaseDate).format("DD/MMM/YYYY")})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{className:e.bold,children:"Flat Rules"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Smoking"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:void 0==t.flatRules?"N/A":[1==t.flatRules.smoking?"Allowed":"Not allowed"]})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Pets"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:void 0==t.flatRules?"N/A":[1==t.flatRules.pets?"Allowed":"Not allowed"]})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",id:"flat-info",onClick:n,children:"Edit"})})]})})})},Rr=function(e,t){return e?Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.warning,children:"Lease has expired, please update"})}):Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"Lease expiration date"})})},Br=function(e,t,n){return Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{variant:"outlined",className:e.paper,children:Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{className:e.bold,children:"Extra Information"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Smoker"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.checklist.isSmoker?"Yes":"No"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Couple"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.checklist.isCouple?"Yes":"No"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Has Pets"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.checklist.hasPet?"Yes":"No"})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",id:"flatee-info",onClick:n,children:"Edit"})})]})})})},zr=function(e,t,n){return Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{variant:"outlined",className:e.paper,children:Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{className:e.bold,children:"Flatee Bio"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Description"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:t.bio?t.bio:"Your bio is currently empty."})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",id:"flatee-bio",onClick:n,children:t.bio?"Edit":"Add A Bio"})})]})})})};function Wr(){var e=Ur(),t=H(),n=t.user,a=t.setUser;n.password="",n.rentUnits||(n.rentUnits="Per Week");var c=new Date(n.leaseDate)<new Date,i=r.a.useState(!1),o=Object(j.a)(i,2),l=o[0],u=o[1],d=r.a.useState(""),b=Object(j.a)(d,2),h=b[0],p=b[1],m=function(e){console.log("id is ",e.currentTarget.id),p(e.currentTarget.id),u(!0)},x=r.a.useState(!1),O=Object(j.a)(x,2),f=O[0],g=O[1],v=function(){g(!0)};return Object(Y.jsxs)("div",{className:e.root,children:[Object(Y.jsxs)(Pt.a,{className:e.parentPaper,children:[Object(Y.jsx)(ce.a,{container:!0,spacing:3,children:Object(Y.jsxs)(ce.a,{item:!0,xs:12,container:!0,children:[Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsxs)(K.a,{variant:"h5",className:e.title,children:["Welcome to your profile, ",n.firstName]}),Object(Y.jsx)("br",{})]}),Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:3,children:[Object(Y.jsx)($a.a,{direction:"up",in:Fr,mountOnEnter:!0,unmountOnExit:!0,children:Object(Y.jsx)(ce.a,{item:!0,xs:5,children:Object(Y.jsxs)(Pt.a,{variant:"outlined",className:e.first,children:["Photo goes here ",Object(Y.jsx)("br",{}),Object(Y.jsx)(re.a,{variant:"contained",color:"primary",children:"Add photo button"})]})})}),Object(Y.jsx)(ce.a,{item:!0,xs:7,children:Object(Y.jsx)(Pt.a,{className:e.second,children:Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(Y.jsx)($a.a,{direction:"up",in:Fr,mountOnEnter:!0,unmountOnExit:!0,children:Pr(e,n,m)}),Object(Y.jsx)($a.a,{direction:"up",in:Fr,mountOnEnter:!0,unmountOnExit:!0,children:Tr(e,n,m)}),Object(Y.jsx)($a.a,{direction:"up",in:Fr,mountOnEnter:!0,unmountOnExit:!0,children:"flat"==n.role?Lr(e,n,m,c):Br(e,n,m)}),"flatee"==n.role&&Object(Y.jsx)($a.a,{direction:"up",in:Fr,mountOnEnter:!0,unmountOnExit:!0,children:zr(e,n,m)})]})})})]})]})}),Object(Y.jsx)($a.a,{direction:"up",in:Fr,mountOnEnter:!0,unmountOnExit:!0,children:Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{className:e.standalone,children:Object(Y.jsx)(re.a,{component:s.b,to:"/faq",children:"About us"})})})}),Object(Y.jsx)($a.a,{direction:"up",in:Fr,mountOnEnter:!0,unmountOnExit:!0,children:Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{className:e.standalone,children:Object(Y.jsx)(Ga,{})})})})]}),Object(Y.jsx)(Cr,{buttonID:h,open:l,handleClose:function(){u(!1)},setUser:a,handleConfirmationOpen:v}),Object(Y.jsx)(Dr,{open:f,handleClickOpen:v,handleClose:function(){window.location.reload()}})]})}var Yr=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),marginBottom:e.spacing(7),display:"flex",alignItems:"center"},button:{margin:e.spacing(3,0,2)}}}));function _r(){var e=Yr();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Ca,{pageName:"Profile"}),Object(Y.jsx)("div",{className:e.paper,children:Object(Y.jsx)(Wr,{})})]})}var Hr=n(99),Vr=n.n(Hr),qr=n(260),Gr=n.n(qr),$r=n(261),Zr=n.n($r),Jr=n(258),Kr=n.n(Jr),Xr=(n(661),n(859)),Qr=n(770),ec=n(808),tc=n(693),nc=Object(tc.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",minWidth:500},grid:{padding:"1em"},rightGrid:{padding:"1em"},gridContent:{borderBottom:"0.1em solid black"},image:{width:490,height:490,borderRadius:20}}})),ac=r.a.forwardRef((function(e,t){return Object(Y.jsx)(Za.a,Object(we.a)({direction:"up",ref:t},e))})),rc=function(e,t){return Object(Y.jsx)(Ja.a,{className:e.paper,variant:"outlined",children:Object(Y.jsxs)(ce.a,{container:!0,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,className:e.grid,children:Object(Y.jsx)("img",{src:"https://i.kym-cdn.com/entries/icons/facebook/000/016/546/hidethepainharold.jpg",className:e.image})}),Object(Y.jsxs)(ce.a,{container:!0,item:!0,xs:12,spacing:3,className:e.rightGrid,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,className:e.gridContent,children:Object(Y.jsxs)(K.a,{variant:"h5",children:[t.accountUser.firstName," ",t.accountUser.lastName]})}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,className:e.gridContent,children:[Object(Y.jsx)(K.a,{variant:"overline",children:"Rent"}),Object(Y.jsxs)(K.a,{children:["$",t.listing.rent," ",t.listing.rentUnits]}),Object(Y.jsx)(K.a,{variant:"overline",children:"Flat Location"}),Object(Y.jsx)(K.a,{children:t.accountUser.address.suburb}),Object(Y.jsx)(K.a,{variant:"overline",children:"Lease end"}),Object(Y.jsx)(K.a,{children:nt()(t.accountUser.leaseDate).format("DD/MMM/YYYY")})]}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)(K.a,{variant:"overline",className:e.gridContent,children:"About the listing"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(K.a,{children:t.listing.description})]}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)(K.a,{variant:"overline",className:e.gridContent,children:"Utilities"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(ec.a,{direction:"row",spacing:2,children:[t.listing.utilities.power&&Object(Y.jsx)(Xr.a,{label:"Power",color:"primary"}),t.listing.utilities.water&&Object(Y.jsx)(Xr.a,{label:"Water",color:"primary"}),t.listing.utilities.internet&&Object(Y.jsx)(Xr.a,{label:"Internet",color:"primary"})]})]}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)(K.a,{variant:"overline",className:e.gridContent,children:"Flat Rules"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(ec.a,{direction:"row",spacing:2,children:[Object(Y.jsx)(Xr.a,{label:"Pets",color:void 0==t.accountUser.flatRules?"default":1==t.accountUser.flatRules.pets?"primary":"default"}),Object(Y.jsx)(Xr.a,{label:"Smoking",color:void 0==t.accountUser.flatRules?"default":1==t.accountUser.flatRules.smoking?"primary":"default"})]})]}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)(K.a,{variant:"overline",className:e.gridContent,children:"About the flat"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(K.a,{children:t.accountUser.description})]}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)(K.a,{variant:"overline",className:e.gridContent,children:"Existing flatmates"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(K.a,{children:t.accountUser.existingFlatmates})]})]})]})})},cc=function(e,t){return Object(Y.jsx)(Ja.a,{className:e.paper,variant:"outlined",children:Object(Y.jsxs)(ce.a,{container:!0,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,className:e.grid,children:Object(Y.jsx)("img",{src:"https://i.kym-cdn.com/entries/icons/facebook/000/016/546/hidethepainharold.jpg",className:e.image})}),Object(Y.jsxs)(ce.a,{container:!0,item:!0,xs:12,spacing:3,className:e.rightGrid,children:[Object(Y.jsxs)(ce.a,{item:!0,xs:12,className:e.gridContent,children:[Object(Y.jsxs)(K.a,{variant:"h5",children:[t.firstName," ",t.lastName]}),Object(Y.jsxs)(K.a,{variant:"body1",children:["Age: ",nt()().diff(t.dob,"years")]})]}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(ec.a,{direction:"row",spacing:2,children:[t.checklist.isSmoker&&Object(Y.jsx)(Xr.a,{label:"Smoker",variant:"outlined"}),t.checklist.isCouple&&Object(Y.jsx)(Xr.a,{label:"Couple",variant:"outlined"}),t.checklist.hasPet&&Object(Y.jsx)(Xr.a,{label:"Has Pet",variant:"outlined"})]})}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)(K.a,{variant:"overline",className:e.gridContent,children:"About me"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(K.a,{variant:"caption",children:t.bio})]})]})]})})},ic=function(e){var t=nc(),n=r.a.useState(!1),a=Object(j.a)(n,2),c=a[0],i=a[1],s=r.a.useState(!0),o=Object(j.a)(s,2),l=o[0],u=(o[1],function(){i(!1)}),d=H().user;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Qr.a,{in:l,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",onClick:function(){i(!0)},children:"View Info"})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Qr.a,{in:l,children:Object(Y.jsx)(re.a,{variant:"contained",color:"secondary",onClick:function(){return window.alert("We are currently working on this feature. Please come back later.")},fullWidth:!0,children:"Report"})}),Object(Y.jsxs)(Sa.a,{open:c,TransitionComponent:ac,keepMounted:!0,onClose:u,"aria-describedby":"alert-dialog-slide-description",children:[Object(Y.jsx)(Ia.a,{children:Object(Y.jsx)(Ae.a,{onClick:u,children:Object(Y.jsx)(fa.a,{})})}),Object(Y.jsx)(Ea.a,{children:"flatee"==d.role?rc(t,e.Listing):cc(t,e.person)})]})]})},sc=n(259),oc=function(e){var t=[],n=H(),c=n.user,i=n.jwt,s=Object(a.useState)([]),o=Object(j.a)(s,2),d=o[0],b=o[1],h=Object(a.useState)(null),p=Object(j.a)(h,2),m=p[0],x=p[1],O=Object(a.useState)(!0),f=Object(j.a)(O,2),g=f[0],v=f[1],y=Object(a.useState)(!1),w=Object(j.a)(y,2),k=w[0],N=w[1],C=Object(a.useMemo)((function(){return Array(d.length).fill(0).map((function(e){return r.a.createRef()}))})),S=c,I={flateeUsername:S};Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!0),W.getPotFlateeMatches(i,I).then((function(e){return b(e.data)})).catch((function(e){return console.log(e)})),N(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var E=function(e){var n=d.filter((function(e){return!t.includes(e.id)}));if(n.length){var a=n[n.length-1].id,r=d.map((function(e){return e.id})).indexOf(a);t.push(a),C[r].current.swipe(e)}};return Object(Y.jsx)(Y.Fragment,{children:k?Object(Y.jsxs)("div",{className:"loading",children:[Object(Y.jsx)(sc.WaveSpinner,{size:50,color:"#007A78",loading:k}),Object(Y.jsx)(K.a,{children:"Getting profiles..."})]}):Object(Y.jsxs)("div",{className:"cards",children:[Object(Y.jsx)("div",{className:"cards__cardContainer",children:d.map((function(e,n){return Object(Y.jsx)(Kr.a,{ref:C[n],className:"swipe",flickOnSwipe:!0,preventSwipe:["up","down"],currentFlatCard:e.id,onSwipe:function(n){return a=n,r=e.listing.id,s=e.accountUser.username,I={flateeUsername:S,flateeID:c.id,listingUsername:s,listingID:r},Vr()(a,"left")?W.unmatch(i,I):Vr()(a,"right")&&W.addListing(i,I),t.push(r),v(!0),void x(null);var a,r,s},children:Object(Y.jsxs)("div",{style:{backgroundImage:"url(https://www.indiewire.com/wp-content/uploads/2019/10/Parasite_Parks_Garden-1.jpg?resize=1536,830)"},className:"card",children:[Object(Y.jsx)("body",{className:"card-content",children:m}),Object(Y.jsx)(Ae.a,{onClick:function(){return function(e){var n=d.filter((function(e){return!t.includes(e.id)}));if(n.length){var a=n[n.length-1].id;d.map((function(e){return e.id})).indexOf(a),v(!g),x(g?Object(Y.jsx)(ic,{Listing:e}):null)}}(e)},className:"see-more-button",children:Object(Y.jsx)(zn.a,{fontSize:"large"})}),Object(Y.jsx)("h3",{children:e.accountUser.username})]})},e.id)}))}),d.length>0?Object(Y.jsxs)("div",{className:"swipe-buttons",children:[Object(Y.jsx)(Ae.a,{onClick:function(){return E("left")},className:"swipe-buttons__left",children:Object(Y.jsx)(Gr.a,{fontSize:"large"})}),Object(Y.jsx)(Ae.a,{onClick:function(){return E("right")},className:"swipe-buttons__right",children:Object(Y.jsx)(Zr.a,{fontSize:"large"})})]}):Object(Y.jsx)("div",{style:{justifyContent:"center",margin:150},children:Object(Y.jsxs)(K.a,{variant:"body1",children:["There is currently no profile that matches your preferences",Object(Y.jsx)("br",{}),"Expand your options by clicking on the filter button above."]})})]})})},lc=n(420),uc=n.n(lc),jc=n(421),dc=n.n(jc),bc=n(262),hc=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var pc=function(e){var t=e.open,n=e.setOpen,r=hc(),c=H(),i=c.user,s=c.jwt,o=new Date,d=Object(a.useState)({}),b=Object(j.a)(d,2),h=b[0],p=b[1],m=Object(a.useState)({}),x=Object(j.a)(m,2),O=x[0],f=x[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),y=v[0],w=v[1],k=Object(a.useState)(o),N=Object(j.a)(k,2),C=N[0],S=N[1],I=Object(a.useState)(0),E=Object(j.a)(I,2),M=E[0],A=E[1],D=Object(a.useState)(""),F=Object(j.a)(D,2),U=F[0],P=F[1],T=Object(a.useState)(!1),L=Object(j.a)(T,2),R=L[0],B=L[1],z=Object(a.useState)(!1),_=Object(j.a)(z,2),V=_[0],q=_[1],G=Object(a.useState)(!1),$=Object(j.a)(G,2),Z=$[0],J=$[1],K=function(){n(!1)},X=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={flat_id:i.id,description:y,roomAvailable:C,rent:M,rentUnits:U,utilities:{power:R,water:V,internet:Z},active:!0},W.addListing(s,t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsx)("div",{className:r.paper,children:Object(Y.jsxs)(Sa.a,{open:t,keepMounted:!0,onClose:K,onBackdropClick:K,children:[Object(Y.jsx)(Aa.a,{children:"Create New Listing"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Ea.a,{children:Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=function(){var e={},t={};return M<.01?(e.rent="Rent can't be 0",t.rent=!0,{errorFound:e,invalid:t}):{errorFound:e,invalid:t}}();Object.keys(t.errorFound).length>0?(p(t.errorFound),f(t.invalid)):(X(),K())},children:[Object(Y.jsxs)(ce.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(Y.jsx)(Se.a,{children:Object(Y.jsx)(te.a,{className:"input",label:"Flat/Room Description",multiline:!0,maxRows:3,minRows:3,autoFocus:!0,required:!0,value:y,onChange:function(e){w(e.target.value)},variant:"outlined"})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(_e.a,{error:O.rent,children:" Rent Amount (in $NZ)"}),Object(Y.jsxs)(Se.a,{children:[Object(Y.jsx)(bc.a,{className:"input",allowEmptyFormatting:!0,fixedDecimalScale:!0,allowNegative:!1,decimalScale:2,required:!0,value:M,onChange:function(e){A(e.target.value)}}),h.rent&&Object(Y.jsx)("div",{className:"error-message",children:h.rent})]})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Se.a,{children:Object(Y.jsxs)(te.a,{className:"input",label:"Rent Units",variant:"outlined",select:!0,required:!0,value:U,onChange:function(e){P(e.target.value)},children:[Object(Y.jsx)(ot.a,{value:"Per Week",children:"Per Week"}),Object(Y.jsx)(ot.a,{value:"Per Fortnight",children:"Per Fortnight"}),Object(Y.jsx)(ot.a,{value:"Per Month",children:"Per Month"})]})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(_e.a,{children:"Utilities Included"}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)("br",{}),Object(Y.jsxs)(ec.a,{direction:"row",spacing:2,children:[Object(Y.jsx)(Xr.a,{label:"Power",variant:0==R?"outlined":"default",onClick:function(){B(!R)},color:0==R?"default":"primary"}),Object(Y.jsx)(Xr.a,{label:"Water",variant:0==V?"outlined":"default",onClick:function(){q(!V)},color:0==V?"default":"primary"}),Object(Y.jsx)(Xr.a,{label:"Internet",variant:0==Z?"outlined":"default",onClick:function(){J(!Z)},color:0==Z?"default":"primary"})]})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)(_e.a,{children:"Available From:"}),Object(Y.jsx)(Qa.a,{label:"Available From",format:"dd/MM/yyyy",minDate:o,value:C,onChange:function(e){S(e)}})]}),Object(Y.jsxs)(Ia.a,{children:[Object(Y.jsx)(re.a,{onClick:K,children:"Cancel"}),Object(Y.jsx)(re.a,{id:"save",type:"submit",variant:"contained",color:"primary",children:"Save"})]})]})})]})})};function mc(){return Object(Y.jsxs)(K.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Y.jsx)(X.a,{color:"inherit",href:"".concat(h),children:"".concat(b)})," ",(new Date).getFullYear(),"."]})}var xc=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},button:{borderRadius:10,width:100,height:100,margin:10}}}));var Oc=Object(J.i)((function(e){var t=xc(),n=H(),r=n.user,c=n.jwt,i=Object(a.useState)([]),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(j.a)(u,2),b=d[0],h=d[1];return Object(a.useEffect)((function(){r&&r.role===$?W.getListingByFlatId(r.id,c).then((function(e){l(e.data)})).catch((function(e){console.log("".concat(r.id," doesn't have any listings"))})):r&&r.role===Z&&W.getListingById(r.id,c).then((function(e){l(e.data)})).catch((function(e){console.log("".concat(r.id," doesn't have any listings"))}))}),[r,c,b]),Object(Y.jsxs)(Q.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsxs)("div",{className:t.paper,children:[Object(Y.jsx)(K.a,{component:"h1",variant:"h5",children:"Your Listings"}),Object(Y.jsxs)(ra.a,{containder:!0,direction:"row",children:[Object(Y.jsx)(Kn.a,{title:"Add new listing",children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){h(!0)},children:Object(Y.jsx)(dc.a,{})})}),function(){var n=0;return o.map((function(a){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(Qr.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:1e3+300*n,children:Object(Y.jsx)(re.a,{className:t.button,variant:"contained",onClick:function(){var t;t=a.id,e.history.push({pathname:"/listing/display",state:{id:t}})},children:Object(Y.jsxs)(ra.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Y.jsx)(ra.a,{item:!0,xs:12,children:Object(Y.jsx)(uc.a,{color:"primary"})}),Object(Y.jsx)(ra.a,{item:!0,xs:12,children:++n})]})},a.id)})})}))}()]})]}),Object(Y.jsx)(ie.a,{mt:8,children:Object(Y.jsx)(mc,{})}),Object(Y.jsx)(pc,{open:b,setOpen:h})]})})),fc=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:e.spacing(3,0,2)}}}));function gc(){var e=fc(),t=H().user;return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(ea.a,{sx:{pb:7},children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsx)(Ca,{currentPath:"home",pageName:"Home"}),Object(Y.jsx)("div",{className:e.paper,children:"flatee"==t.role?Object(Y.jsx)(oc,{}):Object(Y.jsx)(Oc,{})})]})})}var vc=n(438),yc=n(842),wc=n(422),kc=n.n(wc),Nc=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},button:{margin:e.spacing(3,0,2)}}})),Cc=function(e){var t=e.title,n=void 0===t?"Oops!":t,a=e.children,r=void 0===a?"The page you are looking for does not exist.":a,c=Nc();return Object(Y.jsxs)(Q.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsxs)("div",{className:c.paper,children:[Object(Y.jsx)(yc.a,{className:c.avatar,children:Object(Y.jsx)(kc.a,{})}),Object(Y.jsx)(K.a,{component:"h1",variant:"h5",children:n}),Object(Y.jsx)(K.a,{component:"h3",variant:"h5",children:r}),Object(Y.jsx)(re.a,{type:"button",component:s.b,to:"/",variant:"contained",color:"primary",fullWidth:!0,className:c.button,children:"Take me Home"})]})]})},Sc=function(e){var t=e.component,n=e.roles,a=Object(vc.a)(e,["component","roles"]),r=H(),c=r.isAuthed,i=r.user,s=null===i||void 0===i?void 0:i.role;return Object(Y.jsx)(J.c,Object(we.a)(Object(we.a)({},a),{},{render:function(e){return c?n&&-1===n.indexOf(s)?Object(Y.jsx)(Cc,{title:"Insufficient Permissions",children:"You have insufficient permissions to view this page."}):Object(Y.jsx)(t,Object(we.a)(Object(we.a)({},a),e)):Object(Y.jsx)(J.b,{to:{pathname:"/landing",state:{from:e.location}}})}}))},Ic=n(809),Ec=(n(665),function(e){var t=[],n=H(),c=n.user,i=n.jwt,s=Object(a.useState)([]),o=Object(j.a)(s,2),d=o[0],b=o[1],h=Object(a.useState)(null),p=Object(j.a)(h,2),m=p[0],x=p[1],O=Object(a.useState)(!0),f=Object(j.a)(O,2),g=f[0],v=f[1],y=Object(a.useState)(!1),w=Object(j.a)(y,2),k=w[0],N=w[1],C=Object(a.useMemo)((function(){return Array(d.length).fill(0).map((function(e){return r.a.createRef()}))})),S=e.listingID,I={listingID:S};Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!0),W.getPotListingMatches(i,I).then((function(e){console.log(e.data),b(e.data),N(!1)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S]);var E=function(e){var n=d.filter((function(e){return!t.includes(e.username)}));if(n.length){var a=n[n.length-1].username,r=d.map((function(e){return e.username})).indexOf(a);t.push(a),C[r].current.swipe(e)}};return Object(Y.jsx)(Y.Fragment,{children:k?Object(Y.jsxs)("div",{className:"loading",children:[Object(Y.jsx)(sc.WaveSpinner,{size:50,color:"#007A78",loading:k}),Object(Y.jsx)(K.a,{children:"Getting profiles..."})]}):Object(Y.jsxs)("div",{className:"cards",children:[Object(Y.jsx)("div",{className:"cards__cardContainer",children:d.map((function(e,n){return Object(Y.jsx)(Kr.a,{ref:C[n],className:"swipe",flickOnSwipe:!0,preventSwipe:["up","down"],currentFlateeCard:e.username,onSwipe:function(n){return function(e,n){I={flateeUsername:n.username,flateeID:n.id,listingUsername:c.username,listingID:S},Vr()(e,"left")?W.unmatch(i,I):Vr()(e,"right")&&W.addFlatee(i,I),t.push(n.username),v(!0),x(null)}(n,e)},children:Object(Y.jsxs)("div",{style:{backgroundImage:"url(https://images.theconversation.com/files/350865/original/file-20200803-24-50u91u.jpg?ixlib=rb-1.1.0&rect=37%2C29%2C4955%2C3293&q=45&auto=format&w=926&fit=clip)"},className:"card",children:[Object(Y.jsx)("body",{className:"card-content",children:m}),Object(Y.jsx)(Ae.a,{onClick:function(){return function(e){v(!g),g?(Vr()(e.checklist.isSmoker,!0),x(Object(Y.jsx)(ic,{person:e,showMore:g,setShowMore:v}))):x(null)}(e)},className:"see-more-button",children:Object(Y.jsx)(zn.a,{fontSize:"large"})}),Object(Y.jsx)("h3",{children:e.username})]})},e.name)}))}),d.length>0?Object(Y.jsxs)("div",{className:"swipe-buttons",children:[Object(Y.jsx)(Ae.a,{onClick:function(){return E("left")},className:"swipe-buttons__left",children:Object(Y.jsx)(Gr.a,{fontSize:"large"})}),Object(Y.jsx)(Ae.a,{onClick:function(){return E("right")},className:"swipe-buttons__right",children:Object(Y.jsx)(Zr.a,{fontSize:"large"})})]}):Object(Y.jsx)("div",{style:{justifyContent:"center"},children:Object(Y.jsx)(K.a,{variant:"body1",children:"You have no matches yet."})})]})})}),Mc=n(423),Ac=n.n(Mc),Dc=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Fc=function(e){var t=e.open,n=e.setOpen,r=Dc(),c=H(),i=c.user,s=c.jwt,o=Object(a.useState)([]),d=Object(j.a)(o,2),b=d[0],h=d[1],p=new Date,m=Object(J.h)().state.id,x=Object(a.useState)({}),O=Object(j.a)(x,2),f=O[0],g=O[1],v=Object(a.useState)({}),y=Object(j.a)(v,2),w=y[0],k=y[1],N=Object(a.useState)(""),C=Object(j.a)(N,2),S=C[0],I=C[1],E=Object(a.useState)(new Date),M=Object(j.a)(E,2),A=M[0],D=M[1],F=Object(a.useState)(0),U=Object(j.a)(F,2),P=U[0],T=U[1],L=Object(a.useState)(""),R=Object(j.a)(L,2),B=R[0],z=R[1],_=Object(a.useState)({power:!1,water:!1,internet:!1}),V=Object(j.a)(_,2),q=V[0],G=V[1],$=Object(a.useState)(!0),Z=Object(j.a)($,2),K=Z[0],X=Z[1],Q=function(){n(!1)},ee=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={description:S,roomAvailable:A,rent:P,rentUnits:B,utilities:q,active:K},W.updateListingById(m,s,t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){W.getListingById(m,s).then((function(e){h(e.data)}))}),[i,m]),Object(a.useEffect)((function(){void 0!==b.id&&(I(b.description),D(b.roomAvailable),T(b.rent),z(b.rentUnits),G(b.utilities))}),[b]),Object(Y.jsx)("div",{className:r.paper,children:Object(Y.jsxs)(Sa.a,{open:t,keepMounted:!0,onClose:Q,onBackdropClick:Q,children:[Object(Y.jsx)(Aa.a,{children:"Update Listing"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Ea.a,{children:Object(Y.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=function(){var e={},t={};return P<.01?(e.rent="Rent can't be 0 or negative",t.rent=!0,{errorFound:e,invalid:t}):{errorFound:e,invalid:t}}();Object.keys(t.errorFound).length>0?(g(t.errorFound),k(t.invalid)):(ee(),Q())},children:Object(Y.jsxs)(ce.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(Y.jsx)(Se.a,{children:Object(Y.jsx)(te.a,{className:"input",label:"Flat/Room Description",multiline:!0,maxRows:3,minRows:3,autoFocus:!0,required:!0,value:S,onChange:function(e){I(e.target.value)},variant:"outlined"})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(_e.a,{error:w.rent,children:" Rent Amount (in $NZ)"}),Object(Y.jsxs)(Se.a,{children:[Object(Y.jsx)(bc.a,{className:"input",allowEmptyFormatting:!0,fixedDecimalScale:!0,allowNegative:!1,decimalScale:2,required:!0,value:P,onChange:function(e){T(e.target.value)}}),f.rent&&Object(Y.jsx)("div",{className:"error-message",children:f.rent})]})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Se.a,{children:Object(Y.jsxs)(te.a,{className:"input",label:"Rent Units",variant:"outlined",select:!0,required:!0,value:B,onChange:function(e){z(e.target.value)},children:[Object(Y.jsx)(ot.a,{value:"Per Week",children:"Per Week"}),Object(Y.jsx)(ot.a,{value:"Per Fortnight",children:"Per Fortnight"}),Object(Y.jsx)(ot.a,{value:"Per Month",children:"Per Month"})]})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(_e.a,{children:"Utilities Included"}),Object(Y.jsxs)(ce.a,{item:!0,xs:12,children:[Object(Y.jsx)("br",{}),Object(Y.jsxs)(ec.a,{direction:"row",spacing:2,children:[Object(Y.jsx)(Xr.a,{label:"Power",variant:0==q.power?"outlined":"default",onClick:function(){G(Object(we.a)(Object(we.a)({},q),{},{power:!q.power}))},color:0==q.power?"default":"primary"}),Object(Y.jsx)(Xr.a,{label:"Water",variant:0==q.water?"outlined":"default",onClick:function(){G(Object(we.a)(Object(we.a)({},q),{},{water:!q.water}))},color:0==q.water?"default":"primary"}),Object(Y.jsx)(Xr.a,{label:"Internet",variant:0==q.internet?"outlined":"default",onClick:function(){G(Object(we.a)(Object(we.a)({},q),{},{internet:!q.internet}))},color:0==q.internet?"default":"primary"})]})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)(_e.a,{children:"Available From:"}),Object(Y.jsx)(Qa.a,{label:"Available From",format:"dd/MM/yyyy",minDate:p,value:A,onChange:function(e){D(e)}}),Object(Y.jsx)("br",{}),Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(Ic.a,{checked:K,onChange:function(e){X(e.target.checked)},name:"checked",color:"primary"}),label:"Active"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(Ia.a,{children:[Object(Y.jsx)(re.a,{onClick:Q,children:"Cancel"}),Object(Y.jsx)(re.a,{id:"save",type:"submit",variant:"contained",color:"primary",children:"Save"})]})]})})})]})})},Uc=!0,Pc=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:500},first:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},second:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,boxShadow:"none"},parentPaper:{marginTop:e.spacing(8),padding:e.spacing(2),margin:"auto",maxWidth:1600},standalone:{padding:e.spacing(1),paddingRight:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,height:70,boxShadow:"none"},standaloneView:{padding:e.spacing(1),paddingRight:e.spacing(8),textAlign:"right",color:e.palette.text.secondary,height:70,boxShadow:"none"},infoDisplay:{padding:e.spacing(2),fontWeight:600,textAlign:"left",color:e.palette.text.secondary,boxShadow:"none"},userInfo:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary,boxShadow:"none"}}}));var Tc=function(e){var t=Pc(),n=H(),r=n.user,c=n.jwt,i=Object(J.h)().state.id,o=Object(a.useState)([]),d=Object(j.a)(o,2),b=d[0],h=d[1],p=Object(a.useState)(""),m=Object(j.a)(p,2),x=m[0],O=m[1],f=Object(a.useState)(!0),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(j.a)(w,2),N=k[0],C=k[1],S=Object(a.useState)(!0),I=Object(j.a)(S,2),E=I[0],M=I[1],A=Object(a.useState)(!1),D=Object(j.a)(A,2),F=D[0],U=D[1],P=function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.deleteListingById(b.id,c);case 2:e.history.push("/");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(e){y(e.target.checked);var t=e.target.checked;L(t)},L=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.updateListingById(b.id,c,{active:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){U(!0)};return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getListingById(i,c).then((function(e){h(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),Object(a.useEffect)((function(){void 0!==b.active&&y(b.active)}),[b]),Object(a.useEffect)((function(){if(void 0!==b.roomAvailable){var e=b.roomAvailable;O(tt(e).format("DD/MM/YYYY"))}}),[b]),Object(a.useEffect)((function(){b.flat_id===r.id&&C(!0)}),[r,b]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getListingById(i,c).then((function(e){h(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[F]),Object(Y.jsxs)("div",{className:t.root,children:[Object(Y.jsxs)(Pt.a,{className:t.parentPaper,children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsx)(Ca,{}),Object(Y.jsx)($a.a,{in:Uc,direction:"left",children:Object(Y.jsxs)("div",{className:t.paper,children:[Object(Y.jsxs)(ce.a,{item:!0,xs:12,container:!0,children:[Object(Y.jsx)($a.a,{direction:"up",in:Uc,mountOnEnter:!0,unmountOnExit:!0,children:Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(Pt.a,{className:E?t.standaloneView:t.standalone,children:[Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",onClick:function(){M(!E)},children:Object(Y.jsx)(K.a,{variant:"subtitle1",children:E?"My potential flatties":"View Listing Details"})})}),!E&&Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(Ec,{listingID:b.id})})]})})}),Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:3,children:[E&&Object(Y.jsx)($a.a,{direction:"up",in:Uc,mountOnEnter:!0,unmountOnExit:!0,children:Object(Y.jsx)(ce.a,{item:!0,xs:5,children:Object(Y.jsx)(Pt.a,{variant:"outlined",className:t.first,children:Object(Y.jsx)(Oc,{})})})}),Object(Y.jsx)(ce.a,{item:!0,xs:7,children:Object(Y.jsx)(Pt.a,{className:t.second,children:Object(Y.jsx)(ce.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:E&&Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(Pt.a,{variant:"outlined",className:t.paper,children:[Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Y.jsx)(ce.a,{item:!0,xs:2,children:Object(Y.jsxs)(re.a,{component:s.b,to:"/",children:[Object(Y.jsx)(Ac.a,{color:"primary"}),Object(Y.jsx)(K.a,{variant:"button",color:"primary",children:"Back"})]})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsxs)(K.a,{variant:"h5",children:["Listing #",b.id]})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"DESCRIPTION"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.userInfo,children:b.description})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"RENT"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsxs)(Pt.a,{className:t.userInfo,children:["$",b.rent," ",b.rentUnits]})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"AVAILABLE"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.userInfo,children:x})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"UTILITIES"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"POWER"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.userInfo,children:void 0==b.utilities?"N/A":0==b.utilities.power?"Not included":"Included"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"WATER"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.userInfo,children:void 0==b.utilities?"N/A":0==b.utilities.water?"Not included":"Included"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.infoDisplay,children:"INTERNET"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:t.userInfo,children:void 0==b.utilities?"N/A":0==b.utilities.internet?"Not included":"Included"})}),Object(Y.jsx)(ce.a,{item:!0,xs:12,children:function(){if(N)return Object(Y.jsx)(ne.a,{control:Object(Y.jsx)(Ic.a,{checked:v,onChange:T,name:"checked",color:"primary"}),label:"Active"})}()})]}),function(){if(N)return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(re.a,{variant:"contained",color:"primary",className:t.button,onClick:R,children:"Update Listing"}),Object(Y.jsx)(re.a,{style:{margin:"10px"},variant:"outlined",color:"primary",onClick:P,children:"Delete Listing"})]})}()]})})})})})]})]}),Object(Y.jsx)("br",{})]})})]}),Object(Y.jsx)(Fc,{open:F,setOpen:U})]})},Lc=n(424),Rc=n.n(Lc),Bc=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),zc=function(){var e=Bc();return Object(Y.jsxs)(Q.a,{component:"main",maxWidth:"sm",children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsxs)("div",{className:e.paper,children:[Object(Y.jsx)(yc.a,{className:e.avatar,children:Object(Y.jsx)(Rc.a,{})}),Object(Y.jsxs)(K.a,{component:"h1",variant:"h5",children:["This feature is currently under maintenance.",Object(Y.jsx)("br",{}),"Please contact out customer support customer_queries@flinder.com to retrieve your account."]})]})]})},Wc=n(810);function Yc(){return Object(Y.jsxs)(K.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Y.jsx)(X.a,{color:"inherit",href:"".concat(h),children:"".concat(b)})," ",(new Date).getFullYear(),"."]})}var _c=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Hc=function(e){var t=_c(),n=H(),r=n.user,c=n.jwt,i=Object(a.useState)(""),o=Object(j.a)(i,2),d=o[0],b=o[1],h=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="http://localhost:4000/users/".concat(r.id),n={headers:{Authorization:"Bearer ".concat(c)}},console.log(c),console.log(r.id),a={bio:d},O.a.put(t,a,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Q.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(ee.a,{}),Object(Y.jsx)(Ca,{}),Object(Y.jsxs)("div",{className:t.paper,children:[Object(Y.jsx)(Oe,{className:"logo-display"}),Object(Y.jsx)(K.a,{component:"h1",variant:"h5",children:"Add Bio"}),Object(Y.jsx)("form",{onSubmit:function(t){t.preventDefault(),h(),e.history.push("/profile"),window.location.reload()},children:Object(Y.jsxs)(ce.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(Se.a,{children:Object(Y.jsx)(te.a,{className:"input",label:"Bio",multiline:!0,maxRows:3,minRows:3,inputProps:{maxLength:256},autoFocus:!0,required:!0,value:d,onChange:function(e){b(e.target.value)},variant:"outlined"})})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(Wc.a,{variant:"contained",color:"primary",children:[Object(Y.jsx)(re.a,{className:"button",type:"submit",children:"Accept"}),Object(Y.jsx)(re.a,{className:"button",component:s.b,to:"/profile",children:"Cancel"})]})]})})]}),Object(Y.jsx)(ie.a,{mt:8,children:Object(Y.jsx)(Yc,{})})]})},Vc=Object(se.a)((function(e){return{root:{flexGrow:1},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"left"},parentPaper:{marginTop:e.spacing(8),padding:e.spacing(2),margin:"auto",maxWidth:1600},button:{margin:e.spacing(3,0,2)},matchIcon:{marginLeft:20,margin:10,display:"flex",flexDirection:"column",alignItems:"center",padding:10,width:170,height:160,borderRadius:20,border:"1px solid #007A78"},avt:{marginTop:10,width:50,height:50,borderRadius:100},title:{padding:10,marginLeft:10},info:{marginBottom:10}}}));function qc(e){var t=Vc(),n=H(),r=n.user,c=n.jwt,i=Object(a.useState)([]),s=Object(j.a)(i,2),o=s[0],d=s[1],b=function(t){e.history.push({pathname:"/match/details",state:{match:t}})};return Object(a.useEffect)((function(){var e=[];function t(){return(t=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],W.getListingByFlatId(r.id,c).then((function(e){t=e.data})).catch((function(e){console.log("error "+e)})),t.forEach((function(e){n(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e){return a.apply(this,arguments)}function a(){return(a=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W.getListingMatches(n.id,c).then((function(t){console.log(t.data),e=t.data})).catch((function(e){console.log("error "+e)})),e.forEach((function(e){d((function(t){return[].concat(Object(it.a)(t),[e])}))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W.getFlateeMatches(r.id,c).then((function(t){console.log(t.data),e=t.data})).catch((function(e){console.log("error "+e)})),d(e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&"flat"===r.role?function(){t.apply(this,arguments)}():r&&"flatee"===r.role&&function(){i.apply(this,arguments)}()}),[r]),Object(Y.jsxs)("div",{className:t.root,children:[Object(Y.jsx)(Ca,{}),Object(Y.jsxs)(Pt.a,{className:t.parentPaper,children:[Object(Y.jsx)(K.a,{component:"h1",variant:"h5",color:"inherit",noWrap:!0,className:t.title,children:"Your Matches"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(ce.a,{container:!0,spacing:1,children:function(){var e=0;return o.sort((function(e,t){return e.matchedDate<t.matchedDate?1:-1})),0===o.length?Object(Y.jsx)(K.a,{component:"h3",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"No matches yet"}):o.map((function(n){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Qr.a,{in:true,children:Object(Y.jsxs)(ce.a,{className:t.matchIcon,container:!0,item:!0,xs:12,direction:"row",children:[Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)("img",{src:"https://forums.terraria.org/data/avatars/l/128/128493.jpg?1550988870",className:t.avt})}),Object(Y.jsx)(ce.a,{children:Object(Y.jsx)(K.a,{variant:"body1",className:t.info,children:"flat"==r.role?n.flateeUsername:n.listingUsername})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(re.a,{variant:"contained",color:"primary",onClick:function(){b(n)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"View"})})})]})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{})]},++e)}))}()})]})]})}var Gc=n(843),$c=n(844),Zc=n(425),Jc=n.n(Zc),Kc=n(426),Xc=n.n(Kc),Qc=n(427),ei=n.n(Qc);function ti(e){switch(e){case"/match":return 0;case"/":return 1;case"/profile":return 2;default:return 3}}var ni=Object(J.i)((function(e){var t=ti(e.location.pathname);return Object(Y.jsx)(Ja.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(Y.jsxs)(Gc.a,{sx:{"& .Mui-selected, .Mui-selected > svg":{color:"#007A78"}},value:t,onChange:function(){return ti(e.location.pathname)},showLabels:!0,children:[Object(Y.jsx)($c.a,{id:"match",component:s.b,to:"/match",label:"Matches",icon:Object(Y.jsx)(Jc.a,{})}),Object(Y.jsx)($c.a,{id:"home",component:s.b,to:"/",label:"Home",icon:Object(Y.jsx)(Xc.a,{})}),Object(Y.jsx)($c.a,{id:"profile",component:s.b,to:"/profile",label:"Profile",icon:Object(Y.jsx)(ei.a,{})})]})})})),ai=Object(se.a)((function(e){return{root:{flexGrow:1},bold:{fontWeight:600,textAlign:"left"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},first:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},second:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,boxShadow:"none"},parentPaper:{padding:e.spacing(2),margin:"auto",maxWidth:1600},standalone:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,height:70,boxShadow:"none"},infoDisplay:{padding:e.spacing(2),fontWeight:600,textAlign:"left",color:e.palette.text.secondary,boxShadow:"none"},userInfo:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary,boxShadow:"none"}}}));function ri(){var e=ai(),t=H(),n=t.user,r=t.jwt,c=Object(J.h)().state.match,i=Object(a.useState)([]),s=Object(j.a)(i,2),o=s[0],d=s[1],b=Object(a.useState)([]),h=Object(j.a)(b,2),p=h[0],m=h[1];return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],"flat"===n.role?W.findFlatee(c.id,r).then((function(e){t=e.data})):"flatee"===n.role&&0!==p.length&&W.getUserById(p.flat_id,r).then((function(e){t=e.data})),d(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],W.getListingById(c.listingID,r).then((function(e){t=e.data})),m(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!==n&&null!==c&&("flatee"===n.role&&function(){t.apply(this,arguments)}(),function(){e.apply(this,arguments)}())}),[n,p]),Object(Y.jsxs)("div",{className:e.root,children:[Object(Y.jsx)(Ca,{pageName:"Match"}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Pt.a,{className:e.parentPaper,children:Object(Y.jsx)(ce.a,{container:!0,spacing:3,children:Object(Y.jsx)(ce.a,{item:!0,xs:12,container:!0,children:Object(Y.jsx)(ce.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:3,children:Object(Y.jsx)(ce.a,{item:!0,xs:7,children:Object(Y.jsx)(Pt.a,{className:e.second,children:Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(Pt.a,{className:e.paper,children:Object(Y.jsxs)(ce.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(K.a,{className:e.bold,children:"Match Information"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Username"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:o.username})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Name"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsxs)(Pt.a,{className:e.userInfo,children:[o.firstName," ",o.lastName]})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Matched on"})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.userInfo,children:nt.a.utc(c.matchedDate).format("DD/MM/YYYY")})}),Object(Y.jsx)(ce.a,{item:!0,xs:6,children:Object(Y.jsx)(Pt.a,{className:e.infoDisplay,children:"Description/Bio"})}),Object(Y.jsxs)(ce.a,{item:!0,xs:6,children:[Object(Y.jsxs)(Pt.a,{className:e.userInfo,children:[o.description,o.bio]}),Object(Y.jsx)(Pt.a,{className:e.userInfo,children:p.description})]})]})})})})})})})})})]})}var ci=r.a.forwardRef((function(e,t){return Object(Y.jsx)(Qr.a,Object(we.a)({style:{transformOrigin:"0 0 0"},timeout:1e3,ref:t},e))})),ii=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(12),marginLeft:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},button:{width:"300px"},questions:{margin:e.spacing(12)}}})),si=function(e,t,n){return Object(Y.jsxs)(Sa.a,{open:t,TransitionComponent:ci,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:[Object(Y.jsx)(Aa.a,{children:Object(Y.jsx)(K.a,{variant:"h5",color:"primary",children:e.title})}),Object(Y.jsx)(Ea.a,{children:Object(Y.jsx)(K.a,{variant:"body2",children:e.content})}),Object(Y.jsx)(Ia.a,{children:Object(Y.jsx)(re.a,{color:"primary",onClick:n,children:"OK"})})]})},oi=function(){var e=ii(),t=r.a.useState(!1),n=Object(j.a)(t,2),a=n[0],c=n[1],i=r.a.useState({}),s=Object(j.a)(i,2),o=s[0],l=s[1],u=function(e){console.log(e.currentTarget),l(function(e){switch(e.currentTarget.name){case"info":return{title:"What is Flinder?",content:"Flinder is a social media application that allows people to find their perfect flatmate by swiping RIGHT on the profiles that you like, or just simply swipe LEFT on the ones you don't think is a great match. Unlike any other apps out there where they just post a listing and you show up in front of their house, Flinder allows you to get to know your future flatmate better before deciding to go for a viewing."};case"flat":return{title:"What is a Flat",content:"A flat is someone who is looking for a FLATMATE."};case"flatee":return{title:"What is a Flatee",content:"A flat is someone who is looking for a FLAT."};case"flatee-match":return{title:"Match for Flatees",content:"The flatee will be shown a list of matches that suit their preferences,  and they can decide to swipe right on the ones they like and left on the ones they don't feel like it."};case"flat-match":return{title:"Match for Flats",content:"The Flat will be shown a list of the flatees who liked their listing,  and they can decide to swipe right on the ones they like and left on the ones they don't feel like it."};case"flat-listing":return{title:"Flat Listings",content:'Yes, the flat can have as many listings as they want to, as long as it\'s just in 1 house because this app is not designed for "Real Estate Agents", but more for the ones who are genuinely looking for a flatmate!'};case"region":return{title:"Using Flinder outside New Zealand",content:"Unfortunately Flinder is only available within New Zealand,specifically in Auckland and Wellington, but we will expand the flatting areas soon, so stay tuned!"}}}(e)),c(!0)};return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Ca,{}),Object(Y.jsxs)("div",{className:e.paper,children:[Object(Y.jsx)(K.a,{variant:"h4",children:"FAQ"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(ce.a,{container:!0,spacing:2,className:"questions",children:[Object(Y.jsx)(ce.a,{item:!0,xs:12,children:Object(Y.jsx)(re.a,{name:"info",variant:"outlined",color:"primary",className:e.button,onClick:function(e){return u(e)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"What is Flinder?"})})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(re.a,{name:"flatee",variant:"outlined",color:"primary",className:e.button,onClick:function(e){return u(e)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"What is a FLATEE?"})})}),Object(Y.jsx)(ce.a,{item:!0,xs:8,children:Object(Y.jsx)(re.a,{name:"flatee-match",variant:"outlined",color:"primary",className:e.button,onClick:function(e){return u(e)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"How does the match work for a flatee?"})})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(re.a,{name:"flat",variant:"outlined",color:"primary",className:e.button,onClick:function(e){return u(e)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"What is a FLAT?"})})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(re.a,{name:"flat-match",variant:"outlined",color:"primary",className:e.button,onClick:function(e){return u(e)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"How does the match work for a flat?"})})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(re.a,{name:"flat-listing",variant:"outlined",color:"primary",className:e.button,onClick:function(e){return u(e)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"Can a flat have multiple listings?"})})}),Object(Y.jsx)(ce.a,{item:!0,children:Object(Y.jsx)(re.a,{name:"region",variant:"outlined",color:"primary",className:e.button,onClick:function(e){return u(e)},children:Object(Y.jsx)(K.a,{variant:"caption",children:"Can I use Flinder outside New Zealand?"})})})]}),si(o,a,(function(){c(!1)}))]})]})};n(668),n(669);n(670);var li=n(435);function ui(e){var t=e.message,n=e.own;return Object(Y.jsxs)("div",{className:n?"message own":"message",children:[Object(Y.jsxs)("div",{className:"messageTop",children:[Object(Y.jsx)("img",{className:"messageImg",src:"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:""}),Object(Y.jsx)("p",{className:"messageText",children:t.text})]}),Object(Y.jsx)("div",{className:"messageBottom",children:Object(li.a)(t.createdAt)})]})}n(671);var ji=n(812),di=n(845),bi=n(813),hi=n(846),pi=n(847),mi=n(821),xi=n(848),Oi=n(829),fi=n(814),gi=n(433),vi=n(811),yi=n(803),wi=n(189),ki=n(431),Ni=n.n(ki),Ci=240,Si=Object(vi.a)("div")((function(e){var t=e.theme;return Object(Ne.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(yi.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(yi.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),Ii=Object(vi.a)(wi.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(Ne.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"70ch","&:focus":{width:"74ch"}})}}));function Ei(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(j.a)(c,2),s=i[0],o=(i[1],Object(a.useState)([])),d=Object(j.a)(o,2),b=d[0],h=d[1],p=Object(a.useState)(""),m=Object(j.a)(p,2),x=m[0],O=m[1],f=Object(a.useState)(null),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)([]),k=Object(j.a)(w,2),N=k[0],C=k[1],S=Object(a.useState)([]),I=Object(j.a)(S,2),E=I[0],M=I[1],A=Object(a.useRef)(),D=H(),F=D.user,U=D.jwt,P=Object(a.useRef)();Object(a.useEffect)((function(){A.current=Object(gi.a)("ws://localhost:8900"),A.current.on("getMessage",(function(e){y({chatId:e.chatId,sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),Object(a.useEffect)((function(){v&&(null===s||void 0===s?void 0:s.id)===v.chatId&&h((function(e){return[].concat(Object(it.a)(e),[v])}))}),[v,s]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getListingByFlatId: "+F.id+" jwt: "+U),!F||null===F){e.next=5;break}return e.next=4,W.getListingByFlatId(F.id,U).then((function(e){var t=e.data;t.forEach((function(e){return M([].concat(Object(it.a)(t),[e]))}))})).catch((function(e){console.log("error "+e)}));case 4:E.forEach((function(e){t(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(e){return a.apply(this,arguments)}function a(){return(a=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getListingMatches: "+t.id),!t||null===t){e.next=4;break}return e.next=4,W.getListingMatches(t.id,U).then((function(e){var t=e.data;t.forEach((function(e){return C([].concat(Object(it.a)(t),[e]))})),console.log(t)})).catch((function(e){console.log("error "+e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getFlateeMatches: "+F.id),!F||null===F){e.next=4;break}return e.next=4,W.getFlateeMatches(F.id,U).then((function(e){C([].concat(Object(it.a)(N),[e.data])),console.log(N)})).catch((function(e){console.log("error "+e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}F&&F.role===$?(!function(){e.apply(this,arguments)}(),A.current.emit("addUser",F.id),N.map(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getChatByMatchId(t.id,U).then((function(e){console.log(e.data),0===Object.keys(e.data).length?W.addChat(U,{matchId:t.id,messages:[]}).then((function(e){r([].concat(Object(it.a)(n),[e.data]))})):r([].concat(Object(it.a)(n),[e.data]))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):F&&F.role===Z&&(!function(){c.apply(this,arguments)}(),A.current.emit("addUser",F.id),N.map(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getChatByMatchId(t.id,U).then((function(e){console.log(e.data),0===Object.keys(e.data).length?W.addChat(U,{matchId:t.id,messages:[]}).then((function(e){r([].concat(Object(it.a)(n),[e.data]))})):r([].concat(Object(it.a)(n),[e.data]))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[F]),Object(a.useEffect)((function(){null!=s&&W.getMessages(s.id,U).then((function(e){h(e.data)}))}),[s]);var T=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={chatId:s.id,sender:F.id,text:x},s&&null!==F&&W.getMatchById(s.matchId).then((function(e){F.role===$?a=e.data.listingId:F.role===Z&&(a=e.data.flateeId)})),A.current.emit("sendMessage",{senderId:F.id,receiverId:a,text:x}),W.addMessageToChat(s.id,U,n).then((function(e){h([].concat(Object(it.a)(b),[e.data])),O("")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e;null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[b]),Object(Y.jsxs)(ji.a,{sx:{display:"flex"},children:[Object(Y.jsx)(bi.a,{}),Object(Y.jsx)(di.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(Y.jsx)(hi.a,{children:Object(Y.jsx)(ir.a,{variant:"h6",noWrap:!0,component:"div",children:"Clipped drawer"})})}),Object(Y.jsxs)(ta.a,{variant:"permanent",sx:Object(Ne.a)({width:Ci,flexShrink:0},"& .MuiDrawer-paper",{width:Ci,boxSizing:"border-box"}),children:[Object(Y.jsx)(hi.a,{}),Object(Y.jsx)(ji.a,{sx:{overflow:"auto"},children:Object(Y.jsx)(pi.a,{children:N.map((function(e){return Object(Y.jsxs)(mi.a,{button:!0,children:[Object(Y.jsx)(Oi.a,{sx:{bgcolor:fi.a[500]},children:"t.id"}),Object(Y.jsx)(xi.a,{primary:e.id})]},e.id)}))})})]}),Object(Y.jsx)(ji.a,{component:"main",sx:{flexGrow:1,p:3},children:s?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"chatBoxTop",children:b.map((function(e){return Object(Y.jsx)("div",{ref:P,children:Object(Y.jsx)(ui,{message:e,own:e.sender===F._id})})}))}),Object(Y.jsx)(di.a,{position:"fixed",sx:{top:"auto",bottom:0,width:"calc(100% - ".concat(Ci,"px)"),ml:"".concat(Ci,"px")},children:Object(Y.jsxs)(hi.a,{children:[Object(Y.jsx)(Si,{children:Object(Y.jsx)(Ii,{className:"chatMessageInput",placeholder:"Message...",onChange:function(e){return O(e.target.value)},value:x})}),Object(Y.jsx)(jr.a,{size:"large","aria-label":"send message",color:"inherit",className:"chatSubmitButton",onClick:T,children:Object(Y.jsx)(Ni.a,{})})]})})]}):Object(Y.jsx)(ir.a,{variant:"h6",className:"noConversationText",component:"span",children:"Open a match to start a chat."})})]})}var Mi=function(){var e=function(e){switch(e){case"/":case"/match":case"/profile":case"/listings":case"/listing/display":case"/newlisting":case"/updatelisting":case"/match/details":return!0;default:return!1}}(Object(J.h)().pathname);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(J.e,{children:[Object(Y.jsx)(J.c,{exact:!0,path:"/login",component:ve}),Object(Y.jsx)(J.c,{exact:!0,path:"/logout",component:ye}),Object(Y.jsx)(J.c,{exact:!0,path:"/register",component:St}),Object(Y.jsx)(J.c,{exact:!0,path:"/forgot",component:zc}),Object(Y.jsx)(J.c,{exact:!0,path:"/landing",component:Tn}),Object(Y.jsx)(Sc,{exact:!0,roles:[G],path:"/dashboard",component:Fn}),Object(Y.jsx)(Sc,{exact:!0,roles:[Z],path:"/addbio",component:Hc}),Object(Y.jsx)(Sc,{exact:!0,path:"/",component:gc}),Object(Y.jsx)(Sc,{exact:!0,roles:[$],path:"/listings",component:Oc}),Object(Y.jsx)(Sc,{exact:!0,path:"/listing/display",component:Tc}),Object(Y.jsx)(Sc,{exact:!0,path:"/profile",component:_r}),Object(Y.jsx)(Sc,{exact:!0,path:"/match",component:qc}),Object(Y.jsx)(Sc,{exact:!0,path:"/match/details",component:ri}),Object(Y.jsx)(Sc,{exact:!0,path:"/faq",component:oi}),Object(Y.jsx)(Sc,{exact:!0,path:"/chat",component:Ei}),Object(Y.jsx)(J.c,{component:Cc})]}),e&&Object(Y.jsx)(ni,{})]})},Ai=n(815),Di=n(432),Fi=Object(Di.a)({palette:{primary:{main:"#007A78"},secondary:{main:"#FFC745"}},typography:{fontFamily:'"Lexend Deca", "Helvetica", "Arial", sans-serif',fontWeightLight:300,fontWeightRegular:500,fontWeightMedium:800}});Fi.overrides={MuiButton:{root:{borderRadius:30,textTransform:"none"},containedPrimary:{"&:hover":{backgroundColor:Fi.palette.secondary.main,color:Fi.palette.primary.dark}},containedSecondary:{"&:hover":{backgroundColor:Fi.palette.primary.main,color:Fi.palette.secondary.light}}}};var Ui=Fi,Pi=function(){return Object(Y.jsx)(Ai.a,{theme:Ui,children:Object(Y.jsx)(V,{children:Object(Y.jsx)(s.a,{basename:"/",children:Object(Y.jsx)(Mi,{})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(Y.jsx)(a.StrictMode,{children:Object(Y.jsx)(Pi,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[676,1,2]]]);
//# sourceMappingURL=main.9b038084.chunk.js.map